"use strict";(self["webpackChunkVoxonics"]=self["webpackChunkVoxonics"]||[]).push([[425],{11107:function(e,t,s){s.d(t,{Z:function(){return u}});var a=function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"btn-container"},[t("button",{staticClass:"apply-btn",on:{click:function(t){return e.apply()}}},[e._v(e._s(e.text||"Apply Changes"))]),t("div",{staticClass:"clean-btn",on:{click:function(t){return e.discard()}}},[t("img",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"top",arrow:!0,delay:800,duration:500},expression:"{ placement : 'top',  arrow: true, delay : 800, duration: 500 }"}],attrs:{width:"24",height:"25",content:"Discard",src:s(62091),alt:"broom"}})])])},i=[],n={name:"ControlPanel",props:["show","apply","discard","text"],mounted(){document.addEventListener("keydown",(e=>{"s"===e.key&&(navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)&&this.show&&(e.preventDefault(),this.apply()),(navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)&&"z"===e.key&&this.discard()}),!1)}},o=n,r=s(1001),l=(0,r.Z)(o,a,i,!1,null,"0c4a9bee",null),u=l.exports},12246:function(e,t,s){s.d(t,{Z:function(){return u}});var a=function(){var e=this,t=e._self._c;return e.deleteInfo?t("div",{staticClass:"personal-info-wrap",style:{top:`${e.topProp}px`,height:`calc(100% - ${e.topProp}px)`}},[t("div",{staticClass:"delete-block"},[t("span",[t("div",{staticClass:"delete-top-block"},[e._m(0),t("div",{staticClass:"top-content-block"},[t("span",{staticClass:"top-title"},[e._v(e._s(e.titleProp))]),t("span",{staticClass:"top-content"},[e._v(e._s(e.textProp))])])]),t("div",{staticClass:"delete-btn-block"},[t("span",{staticClass:"cancel-btn",on:{click:function(t){return e.cancelDeleteItem()}}},[e._v("Cancel")]),t("span",{staticClass:"delete-btn",on:{click:function(t){return e.deleteItem()}}},[e._v("Delete ")])])])])]):e._e()},i=[function(){var e=this,t=e._self._c;return t("span",{staticClass:"delete-image"},[t("img",{attrs:{src:s(21920),alt:"delete"}})])}],n={name:"DeleteQueue",props:["deleteFunc","cancelDeleteFunc","deleteInfo","textProp","titleProp","topProp"],methods:{cancelDeleteItem(){this.$emit("cancelDeleteFunc")},deleteItem(){this.$emit("deleteFunc")}},mounted(){document.addEventListener("keydown",(e=>{"Enter"===e.key&&this.deleteInfo&&this.deleteItem(),"Escape"===e.key&&this.deleteInfo&&this.cancelDeleteItem()}))}},o=n,r=s(1001),l=(0,r.Z)(o,a,i,!1,null,"55a9bb86",null),u=l.exports},55425:function(e,t,s){s.r(t),s.d(t,{default:function(){return z}});var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"wrap-main-queue"},[t("div",{staticClass:"wrap-form"},[t("form",{on:{submit:function(e){e.preventDefault()}}},[t("QueueInfo"),t("div",{staticClass:"tabs"},[t("div",{staticClass:"left-tabs"},[t("div",{staticClass:"tab",class:{active:"config"===e.showOptions},on:{click:function(t){return e.setShowOptions("config")}}},[e._v(" Settings ")]),t("div",{staticClass:"tab",class:{active:"agents"===e.showOptions},on:{click:function(t){return e.setShowOptions("agents")}}},[e._v(" Agents in Queue ")]),t("div",{staticClass:"tab",class:{active:"managers"===e.showOptions},on:{click:function(t){return e.setShowOptions("managers")}}},[e._v(" Managed by ")])]),t("div",{staticClass:"right-tabs"},[t("ControlPanel",{attrs:{show:e.showApplyBtn,apply:e.handlerSubmit,discard:e.clearDepartment}})],1)]),"config"===e.showOptions?[t("ConfigSettings"),t("DeleteComponent",{attrs:{deleteInfo:e.getDeleteQueueInfo,textProp:e.textToDeleteComponent,titleProp:e.titleToDeleteComponent,topProp:227},on:{deleteFunc:e.deleteQueue,cancelDeleteFunc:e.cancelDelete}})]:e._e(),"agents"===e.showOptions?[t("AgentSetting"),t("DeleteComponent",{attrs:{deleteInfo:e.getDeleteQueueInfo,textProp:e.textToDeleteComponent,titleProp:e.titleToDeleteComponent,topProp:227},on:{deleteFunc:e.deleteQueue,cancelDeleteFunc:e.cancelDelete}})]:e._e(),"managers"===e.showOptions?[t("ManagerSettings"),t("DeleteComponent",{attrs:{deleteInfo:e.getDeleteQueueInfo,textProp:e.textToDeleteComponent,titleProp:e.titleToDeleteComponent,topProp:227},on:{deleteFunc:e.deleteQueue,cancelDeleteFunc:e.cancelDelete}})]:e._e()],2)])])},i=[],n=s(90408),o=s(2622),r=s(80366),l=s(38827),u=function(){var e=this,t=e._self._c;return t("div",{staticClass:"personal-info-wrap",class:{"disabled-events":!e.$access.isEditDepAndQueue(e.userInfo,"queue",e.getQueueInfo)}},[t("div",{staticClass:"wrap-head"},[t("h2",[e._v("QUEUE INFO")]),t("span",{staticClass:"hr"}),t("img",{staticClass:"trash",class:{grayscale:!e.$access.isEditDepAndQueue(e.userInfo,"queue",e.getQueueInfo)},attrs:{src:s(3996),alt:"trash",width:"30"},on:{click:function(t){return e.del()}}})]),t("div",{staticClass:"wrap-body"},[t("div",{staticClass:"personal-info"},[t("div",{staticClass:"personal-info__first-part"},[t("span",[e._v(" Name of Queue:")]),t("div",{staticClass:"item-container with-err",class:{grayscale:!e.$access.isEditDepAndQueue(e.userInfo,"queue",e.getQueueInfo)}},[t("div",{staticClass:"left-section-block"},[t("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.name,expression:"name",modifiers:{trim:!0}}],class:{"input-field":e.edit},style:{width:e.computedWidth},attrs:{placeholder:"Enter name of Queue",defaulValue:e.getQueueNameInfo,maxlength:"12"},domProps:{value:e.name},on:{input:[function(t){t.target.composing||(e.name=t.target.value.trim())},e.setQueueName],blur:function(t){return e.$forceUpdate()}}}),t("span",{staticClass:"last-update-block"},[t("span",{staticClass:"last-update-text"},[e._v("Last updated:")]),t("span",{staticClass:"last-update-data"},[e._v(e._s(e.getQueueInfo.dateUpdated))])])]),t("div",{staticClass:"wrap-static"},[t("div",{staticClass:"static"},[t("div",{staticClass:"label"},[e._v("Number of Queue:")]),t("div",{staticClass:"num"},[e._v(e._s(e.getQueueInfo.internalNumber))])]),t("div",{staticClass:"static"},[t("div",{staticClass:"label"},[e._v("Agents in Queue:")]),t("div",{staticClass:"num"},[e._v(e._s(e.getAgentsLength||0))])])])])])])])])},c=[],d=s(96458),p={name:"QueueInfo",data(){return{name:"",edit:!1}},computed:{...(0,n.Se)(["numbersDep","getAgentsQueueInfo","managersDep","getQueueNameInfo","getQueueInfo","getAgentsLength","userInfo","getQueueInfo"]),computedWidth(){return this.name.length?32+1.1*this.name.length*24+"px":"100%"}},methods:{del(){this.$store.dispatch("setDeleteQueueInfo",!0)},setQueueName(){this.$store.dispatch("setQueueNameInfo",this.name)}},mounted(){this.name=this.getQueueNameInfo,d.Z.subscribe((e=>{"queueInfoMutation"===e.type&&(this.name=this.getQueueNameInfo)}))}},m=p,g=s(1001),h=(0,g.Z)(m,u,c,!1,null,"2384e5ec",null),f=h.exports,v=function(){var e=this,t=e._self._c;return t("div",{staticClass:"personal-info-wrap",class:{"disabled-events":!e.$access.isEditDepAndQueue(e.userInfo,"queue",e.getQueueInfo)}},[e._m(0),t("div",{staticClass:"top"},[t("div",{staticClass:"left",class:{"disabled-gray-options-block":!e.$access.isEditDepAndQueue(e.userInfo,"queue",e.getQueueInfo)}},[e._v("Add agent ")]),t("div",{staticClass:"agents users"},[e.relatedAgents.length?t("div",{staticClass:"agent user"},[e._m(1),t("span",{staticClass:"name"},[e._v("Agent Number")]),t("span",{staticClass:"union"})]):e._e(),e.relatedAgents.length>1?t("div",{staticClass:"agent user"},[e._m(2),t("span",{staticClass:"name"},[e._v("Agent Number")]),t("span",{staticClass:"union"})]):e._e(),e.relatedAgents.length>2?t("div",{staticClass:"agent user"},[e._m(3),t("span",{staticClass:"name"},[e._v("Agent Number")]),t("span",{staticClass:"union"})]):e._e(),e.relatedAgents.length>3?t("div",{staticClass:"agent user"},[e._m(4),t("span",{staticClass:"name"},[e._v("Agent Number")]),t("span",{staticClass:"union"})]):e._e()])]),t("div",{staticClass:"wrap-body",class:{"disabled-gray-options-block":!e.$access.isEditDepAndQueue(e.userInfo,"queue",e.getQueueInfo)}},[t("div",{staticClass:"personal-info"},[t("div",{staticClass:"personal-info__first-part"},[t("div",{staticClass:"item-container with-err"},[t("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.hideListUsers,expression:"hideListUsers"}],staticClass:"label"},[t("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.name,expression:"name",modifiers:{trim:!0}}],staticClass:"input-field",attrs:{placeholder:"Enter name or Agent Number"},domProps:{value:e.name},on:{click:function(t){return e.showList()},input:[function(t){t.target.composing||(e.name=t.target.value.trim())},function(t){e.showAgents=!0,e.searchDepartments()}],blur:function(t){return e.$forceUpdate()}}}),t("span",{staticClass:"triangle",class:{"rotate-arrow":e.showAgents},on:{click:function(t){return e.showList()}}},[t("img",{attrs:{src:s(97646),alt:"select"}})]),t("DropdownList",{directives:[{name:"show",rawName:"v-show",value:e.showAgents,expression:"showAgents"}],attrs:{classNameList:"list",dataList:e.mainList.getMainList,itemText:e=>`<span>${e.name}</span><span>ID ${e.internalNumber}</span>`,classNameItemComputed:t=>e.mainList.topList.filter((e=>e.uid===t.uid)).length?e.collapse?"selected collapsed row":"selected row":"row",showItem:t=>!e.mainList.topList.filter((e=>e.uid===t.uid)).length||!e.collapse},on:{scrollFunc:t=>e.funScroll(t),clickFunc:t=>e.chooseAgent(t)}},[t("span",{staticClass:"collapse",on:{click:function(t){e.collapse=!e.collapse}}},[t("img",{staticClass:"button",attrs:{src:e.collapse?e.extendImg:e.collapseImg,alt:"collapse"}}),t("span",{staticClass:"text"},[e._v("Selected users available to you:")]),t("span",{staticClass:"amount"},[e._v(e._s(e.mainList.topList.length))])])])],1)])])]),t("div",{staticClass:"agents users"},[t("drop-list",{attrs:{items:e.relatedAgents,mode:"cut"},on:{reorder:function(t){t.apply(e.relatedAgents),e.reorderAgents()},insert:e.insert1},scopedSlots:e._u([{key:"item",fn:function({item:a}){return[t("drag",{key:a.uid,attrs:{data:a},on:{cut:function(t){return e.remove(e.relatedAgents,a)}}},[t("div",{staticClass:"agent user"},[t("div",{staticClass:"block"},[t("div",{staticClass:"number"},[e._v(e._s(e.relatedAgents.indexOf(a)+1)+".")]),t("div",{staticClass:"round"},[t("img",{attrs:{src:a.avatar||e.userAva,alt:"avatar"}})]),t("span",{staticClass:"name"},[e._v(e._s(a.name))])]),t("span",{staticClass:"name"},[e._v(e._s(a.internalNumber))]),t("img",{staticClass:"union",attrs:{src:s(93996),width:"19",alt:""},on:{click:function(t){return e.chooseAgent(a)}}})])])]}}])})],1)])])},w=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"wrap-head"},[t("h2",[e._v("Agents in Queue")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"block"},[t("div",{staticClass:"round"},[e._v("Name")]),t("span",{staticClass:"name"})])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"block"},[t("div",{staticClass:"round"},[e._v("Name")]),t("span",{staticClass:"name"})])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"block"},[t("div",{staticClass:"round"},[e._v("Name")]),t("span",{staticClass:"name"})])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"block"},[t("div",{staticClass:"round"},[e._v("Name")]),t("span",{staticClass:"name"})])}],C=s(94227),b=s(34675),y=s(76692),I=s(68956),_=s.n(I),L=s(39132),Q=s(55346),N=s(60949),A=s(51579),D=s.n(A),k={name:"AgentSetting",components:{Drag:Q.nc,DropList:Q.Rr,DropdownList:L.Z},data(){return{unsubscribeStore:()=>{},collapse:!1,collapseImg:b,extendImg:y,name:"",showAgents:!1,relatedAgents:[],userAva:C,perPage:12,mainList:{topList:[],bottomList:[],getMainList:[]}}},watch:{getGlobalUsersList(){(0,N.e)(this,this.getGlobalUsersList,"relatedAgents"),this.mainList.getMainList=D().concat(this.mainList.topList,this.mainList.bottomList)}},computed:{...(0,n.Se)(["getAgentsQueueInfo","userInfo","getQueueInfo","getGlobalUsersList","getPaginatorUsers"])},methods:{searchDepartments(){clearTimeout(this.timer),this.timer=setTimeout((()=>this.fetch()),800)},funScroll({target:e}){e.clientHeight+e.scrollTop===e.scrollHeight&&this.getPaginatorUsers.paginator.count>this.perPage&&(this.perPage+=9,this.fetch())},fetch(){this.$store.dispatch("globalUsersListRequest",{peerPage:this.perPage,sort:"",page:1,search:this.name,role:"",order:"asc"})},showList(){this.showAgents||this.mainList.getMainList.length||this.fetch(),this.showAgents=!this.showAgents},hideListUsers(){this.showAgents=!1},chooseAgent(e){const t=D().omit(e,"dateCreated","dateUpdated","manage","relatedWith","status","statusTime","permission");(0,N.Z)(this,t,"relatedAgents","setAgentsDepartment",!0)},setAgentsDepartment(e){this.$store.dispatch("setAgentsQueueInfo",e)},reorderAgents(){this.$store.dispatch("setAgentsQueueInfo",this.relatedAgents)},insert1(e){this.relatedAgents.splice(e.index,0,e.data)},remove(e,t){let s=e.indexOf(t);e.splice(s,1)}},mounted(){this.popupItem=this.$el.children[2].children[0],this.unsubscribeStore=d.Z.subscribe((e=>{"queueInfoMutation"===e.type&&(this.relatedAgents=JSON.parse(JSON.stringify(this.getAgentsQueueInfo)),this.mainList.topList=JSON.parse(JSON.stringify(this.getAgentsQueueInfo)))})),this.relatedAgents=JSON.parse(JSON.stringify(this.getAgentsQueueInfo)),this.mainList.topList=JSON.parse(JSON.stringify(this.getAgentsQueueInfo))},beforeDestroy(){this.unsubscribeStore()},directives:{ClickOutside:_()}},S=k,O=(0,g.Z)(S,v,w,!1,null,"4eddd1f7",null),M=O.exports,P=function(){var e=this,t=e._self._c;return t("div",{staticClass:"personal-info-wrap",class:{"disabled-events":!e.$access.isEditDepAndQueue(e.userInfo,"queue",e.getQueueInfo)}},[e._m(0),t("div",{staticClass:"top"},[t("div",{staticClass:"left",class:{"disabled-gray-options-block":!e.$access.isEditDepAndQueue(e.userInfo,"queue",e.getQueueInfo)}},[e._v("Add manager ")]),t("div",{staticClass:"managers users"},[e.getManagersQueueInfo.length?t("div",{staticClass:"manager user"},[e._m(1),t("span",{staticClass:"name"},[e._v("Agent Number")]),t("span",{staticClass:"union"})]):e._e(),e.getManagersQueueInfo.length>1?t("div",{staticClass:"manager user"},[e._m(2),t("span",{staticClass:"name"},[e._v("Agent Number")]),t("span",{staticClass:"union"})]):e._e(),e.getManagersQueueInfo.length>2?t("div",{staticClass:"manager user"},[e._m(3),t("span",{staticClass:"name"},[e._v("Agent Number")]),t("span",{staticClass:"union"})]):e._e()])]),t("div",{staticClass:"wrap-body",class:{"disabled-gray-options-block":!e.$access.isEditDepAndQueue(e.userInfo,"queue",e.getQueueInfo)}},[t("div",{staticClass:"personal-info"},[t("div",{staticClass:"personal-info__first-part"},[t("div",{staticClass:"item-container with-err"},[t("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.hideListUsers,expression:"hideListUsers"}],ref:"hideList",staticClass:"label"},[t("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.name,expression:"name",modifiers:{trim:!0}}],staticClass:"input-field",attrs:{placeholder:"Enter name or Agent Number"},domProps:{value:e.name},on:{click:function(t){return e.showList()},input:[function(t){t.target.composing||(e.name=t.target.value.trim())},function(t){e.showManagers=!0,e.searchDepartments()}],blur:function(t){return e.$forceUpdate()}}}),t("span",{staticClass:"triangle",class:{"rotate-arrow":e.showManagers},on:{click:function(t){return e.showList()}}},[t("img",{attrs:{src:s(97646),alt:"select"}})]),t("DropdownList",{directives:[{name:"show",rawName:"v-show",value:e.showManagers,expression:"showManagers"}],attrs:{classNameList:"list",dataList:e.mainList.getMainList,itemText:e=>`<span>${e.name}</span><span>ID ${e.internalNumber}</span>`,classNameItemComputed:t=>e.getManagersQueueInfo.filter((e=>e.uid===t.uid)).length?e.collapse?"selected collapsed row":"selected row":"row",showItem:t=>!e.getManagersQueueInfo.filter((e=>e.uid===t.uid)).length||!e.collapse},on:{scrollFunc:t=>e.funScroll(t),clickFunc:t=>e.chooseAgent(t)}},[t("span",{staticClass:"collapse",on:{click:function(t){e.collapse=!e.collapse}}},[t("img",{staticClass:"button",attrs:{src:e.collapse?e.extendImg:e.collapseImg,alt:"collapse"}}),t("span",{staticClass:"text"},[e._v("Selected users available to you:")]),t("span",{staticClass:"amount"},[e._v(e._s(e.mainList.topList.length))])])])],1)])])]),t("div",{staticClass:"managers users"},e._l(e.getManagersQueueInfo,(function(a,i){return t("div",{key:i,staticClass:"manager user"},[t("div",{staticClass:"block"},[t("div",{staticClass:"round"},[t("img",{attrs:{src:a.avatar||e.userAva,alt:"avatar"}})]),t("span",{staticClass:"name"},[e._v(e._s(a.name))])]),t("span",{staticClass:"name"},[e._v(e._s(a.internalNumber))]),t("div",{staticClass:"action"},[t("label",{staticClass:"label-container"},[t("input",{directives:[{name:"model",rawName:"v-model",value:a.option.edit,expression:"manager.option.edit"}],staticClass:"edit",attrs:{disabled:!e.$access.isEditDepAndQueue(e.userInfo,"queue",e.getQueueInfo),type:"checkbox"},domProps:{checked:Array.isArray(a.option.edit)?e._i(a.option.edit,null)>-1:a.option.edit},on:{change:[function(t){var s=a.option.edit,i=t.target,n=!!i.checked;if(Array.isArray(s)){var o=null,r=e._i(s,o);i.checked?r<0&&e.$set(a.option,"edit",s.concat([o])):r>-1&&e.$set(a.option,"edit",s.slice(0,r).concat(s.slice(r+1)))}else e.$set(a.option,"edit",n)},function(t){return e.changeEdit(a)}]}}),t("span",{staticClass:"check"}),t("span",{staticClass:"text"},[e._v("Edit")])])]),t("img",{staticClass:"union",class:{"disabled-events":!e.$access.isEditDepAndQueue(e.userInfo,"queue",e.getQueueInfo)},attrs:{src:s(93996),width:"19",alt:""},on:{click:function(t){return e.chooseAgent(a)}}})])})),0)])])},x=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"wrap-head"},[t("h2",[e._v("Managers in Queue")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"block"},[t("div",{staticClass:"round"},[e._v("Name")]),t("span",{staticClass:"name"})])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"block"},[t("div",{staticClass:"round"},[e._v("Name")]),t("span",{staticClass:"name"})])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"block"},[t("div",{staticClass:"round"},[e._v("Name")]),t("span",{staticClass:"name"})])}],R={name:"ManagerSetting",components:{DropdownList:L.Z},data(){return{collapseImg:b,extendImg:y,collapse:!1,name:"",showManagers:!1,userAva:C,perPage:9,mainList:{topList:[],bottomList:[],getMainList:[]}}},watch:{getGlobalUsersList(){(0,N.e)(this,this.getGlobalUsersList,"getManagersQueueInfo"),this.mainList.getMainList=D().concat(this.mainList.topList,this.mainList.bottomList)}},computed:{...(0,n.Se)(["getManagersQueueInfo","userInfo","getQueueInfo","getGlobalUsersList","getPaginatorUsers"])},methods:{searchDepartments(){clearTimeout(this.timer),this.timer=setTimeout((()=>this.fetch()),800)},funScroll({target:e}){e.clientHeight+e.scrollTop===e.scrollHeight&&this.getPaginatorUsers.paginator.count>this.perPage&&(this.perPage+=9,this.fetch())},fetch(){this.$store.dispatch("globalUsersListRequest",{peerPage:this.perPage,sort:"",page:1,search:this.name,role:"manager",order:"asc"})},hideListUsers(){this.showManagers=!1},showList(){this.showManagers||this.mainList.getMainList.length||this.fetch(),this.showManagers=!this.showManagers},chooseAgent(e){const t=D().omit(e,"dateCreated","dateUpdated","manage","relatedWith","status","statusTime","permission");(0,N.Z)(this,JSON.parse(JSON.stringify({...t,option:{edit:!1}})),"getManagersQueueInfo","setAgentsDepartment")},changeEdit(){this.setAgentsDepartment()},setAgentsDepartment(e=this.getManagersQueueInfo){this.$store.dispatch("setMagagersQueueInfo",e)}},mounted(){this.popupItem=this.$refs.hideList,d.Z.subscribe((e=>{"queueInfoMutation"===e.type&&(this.mainList.topList=JSON.parse(JSON.stringify(this.getManagersQueueInfo)))})),this.mainList.topList=JSON.parse(JSON.stringify(this.getManagersQueueInfo))},directives:{ClickOutside:_()}},$=R,T=(0,g.Z)($,P,x,!1,null,"56f2bdba",null),U=T.exports,E=function(){var e=this,t=e._self._c;return t("div",{staticClass:"personal-info-wrap",class:{"disabled-events":!e.$access.isEditDepAndQueue(e.userInfo,"queue",e.getQueueInfo)}},[e._m(0),t("div",{staticClass:"wrap-body"},[t("div",{staticClass:"personal-info"},[t("div",{staticClass:"personal-info__first-part"},[t("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.hide,expression:"hide"}],staticClass:"item-container with-err",class:{"disabled-gray-options-block ":!e.$access.isEditDepAndQueue(e.userInfo,"queue",e.getQueueInfo)},on:{click:function(t){e.hideListOptions(),e.indexRef=""}}},[t("label",{ref:"showStrategy",staticClass:"strategy-label options-label",on:{click:function(t){e.indexRef="showStrategy"}}},[e._v(" Strategy "),t("input",{staticClass:"input-field num",attrs:{type:"text",readonly:""},domProps:{value:e.getStrategyTitle}}),t("span",{staticClass:"triangle",class:{"rotate-arrow":"showStrategy"===e.showOptions},on:{click:function(t){return e.setShowOptions("showStrategy")}}},[t("img",{attrs:{src:s(97646),alt:"select"}})]),t("ul",{directives:[{name:"show",rawName:"v-show",value:"showStrategy"===e.showOptions,expression:"showOptions === 'showStrategy'"}],staticClass:"list-related-numbers"},[t("li",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"left",distance:"-35",arrow:!0,delay:50,duration:500},expression:"{ placement: 'left', distance: '-35', arrow: true, delay: 50, duration: 500 }"}],attrs:{content:"Calls all users at the same time."},on:{click:function(t){return e.selectOptions("strategy","Ring all")}}},[e._v("Ring all")]),t("li",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"left",distance:"-35",arrow:!0,delay:50,duration:500},expression:"{ placement: 'left', distance: '-35', arrow: true, delay: 50, duration: 500 }"}],attrs:{content:"Call the user who did not receive calls for the longest time."},on:{click:function(t){return e.selectOptions("strategy","Least recent")}}},[e._v("Least recent")]),t("li",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"left",distance:"-35",arrow:!0,delay:50,duration:500},expression:"{ placement: 'left', distance: '-35', arrow: true, delay: 50, duration: 500 }"}],attrs:{content:"Call the user who received the least number of calls."},on:{click:function(t){return e.selectOptions("strategy","Fewest calls")}}},[e._v("Fewest calls")]),t("li",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"left",distance:"-35",arrow:!0,delay:50,duration:500},expression:"{ placement: 'left', distance: '-35', arrow: true, delay: 50, duration: 500 }"}],attrs:{content:"Randomly distribute calls."},on:{click:function(t){return e.selectOptions("strategy","Random")}}},[e._v("Random")]),t("li",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"left",distance:"-35",arrow:!0,delay:50,duration:500},expression:"{ placement: 'left', distance: '-35', arrow: true, delay: 50, duration: 500 }"}],attrs:{content:"Calling in a circle, after the agent who answered last."},on:{click:function(t){return e.selectOptions("strategy","RR memory")}}},[e._v("RR memory")]),t("li",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"left",distance:"-35",arrow:!0,delay:50,duration:500},expression:"{ placement: 'left', distance: '-35', arrow: true, delay: 50, duration: 500 }"}],attrs:{content:"Call starting from the first in the listed order."},on:{click:function(t){return e.selectOptions("strategy","Linear")}}},[e._v("Linear")])])]),t("label",{ref:"showTimeout",staticClass:"strategy-label options-label",on:{click:function(t){e.indexRef="showTimeout"}}},[e._v(" Dial time "),t("input",{staticClass:"input-field num",attrs:{type:"text",readonly:""},domProps:{value:e.getTimeoutInfo||0}}),t("span",{staticClass:"triangle",class:{"rotate-arrow":"showTimeout"===e.showOptions},on:{click:function(t){return e.setShowOptions("showTimeout")}}},[t("img",{attrs:{src:s(97646),alt:"select"}})]),t("ul",{directives:[{name:"show",rawName:"v-show",value:"showTimeout"===e.showOptions,expression:"showOptions === 'showTimeout'"}],staticClass:"list-related-numbers"},e._l(new Array(60).fill(0),(function(s,a){return t("li",{key:a,on:{click:function(t){return e.selectOptions("timeout",a+1)}}},[e._v(e._s(a+1))])})),0)]),t("label",{ref:"showRing",staticClass:"strategy-label options-label",on:{click:function(t){e.indexRef="showRing"}}},[e._v(" Ring in use "),t("input",{staticClass:"input-field num",attrs:{type:"text",readonly:""},domProps:{value:e.getRingInUseInfo}}),t("span",{staticClass:"triangle",class:{"rotate-arrow":"showRing"===e.showOptions},on:{click:function(t){return e.setShowOptions("showRing")}}},[t("img",{attrs:{src:s(97646),alt:"select"}})]),t("ul",{directives:[{name:"show",rawName:"v-show",value:"showRing"===e.showOptions,expression:"showOptions === 'showRing'"}],staticClass:"list-related-numbers"},[t("li",{on:{click:function(t){return e.selectOptions("ring","Yes")}}},[e._v("Yes")]),t("li",{on:{click:function(t){return e.selectOptions("ring","No")}}},[e._v("No")])])])])])])])])},q=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"wrap-head"},[t("h2",[e._v("Settings")])])}],J=s(3197),Z={name:"Config",data(){return{showOptions:"",indexRef:""}},computed:{...(0,n.Se)(["getStrategyInfo","getTimeoutInfo","getRingInUseInfo","getMaxWaitInfo","userInfo","getQueueInfo"]),getStrategyTitle(){switch(this.getStrategyInfo){case"ringall":return"Ring all";case"leastrecent":return"Least recent";case"fewestcalls":return"Fewest calls";case"random":return"Random";case"rrmemory":return"RR memory";case"linear":return"Linear";default:break}}},methods:{hideListOptions(){(0,J.O)(this,this.indexRef,this.$refs)},hide(){this.showOptions=""},setShowOptions(e){this.showOptions===e?this.showOptions="":this.showOptions=e},formattedString(){},selectOptions(e,t){if(this.$access.isEditDepAndQueue(this.userInfo,"queue",this.getQueueInfo)){const s=e=>e.toLowerCase().split(" ").join("");switch(e){case"strategy":this.$store.dispatch("setStrategyInfo",s(t));break;case"timeout":this.$store.dispatch("setTimeoutInfo",t);break;case"ring":this.$store.dispatch("setRingInUseInfo",s(t));break;default:break}this.showOptions="",this.showStrategy=!1,this.showTimeout=!1,this.showRing=!1,this.showMaxWait=!1}}},mounted(){this.popupItem=this.$el.children[1].children[0]},directives:{ClickOutside:_()}},F=Z,W=(0,g.Z)(F,E,q,!1,null,"7dbe9ba5",null),B=W.exports,G=s(12246),H=s(35211),K=s(11107),V={name:"QueueSetting",components:{ControlPanel:K.Z,AgentSetting:M,QueueInfo:f,ConfigSettings:B,DeleteComponent:G.Z,ManagerSettings:U},data(){return{unsubscribe:()=>{},showOptions:"config",showApplyBtn:!1,textToDeleteComponent:"Are you sure you want to delete this Queue ?",titleToDeleteComponent:"Delete Queue"}},computed:{...(0,n.Se)(["getQueueInfo","getDeleteQueueInfo","getInitialQueue","getDeleteQueueInfo"])},methods:{setShowOptions(e){this.showOptions=e,l.h8.viewQueue(this.getQueueInfo.uid)},cancelDelete(){this.$store.dispatch("setDeleteQueueInfo",!1)},deleteQueue(){r.Z.deleteQueue(localStorage.getItem("queueUid")),this.$store.dispatch("setDeleteQueueInfo",!1)},handlerSubmit(){const e=JSON.parse(JSON.stringify(this.getQueueInfo)),t=(0,o.wO)(e);r.Z.updateQueue(t)},clearDepartment(){l.h8.viewQueue(this.getQueueInfo.uid)},isEqual(){let e=JSON.parse(JSON.stringify(this.getQueueInfo)),t=JSON.parse(JSON.stringify(this.getInitialQueue));e.relatedWith=D().map(e.relatedWith,(e=>D().omit(e,"option"))),e.belongTo=D().map(e.belongTo,(e=>(e.option.edit=!!e.option.edit,e))),e.belongTo=D().orderBy(e.belongTo,["internalNumber"],["desc"]),t.relatedWith=D().map(t.relatedWith,(e=>D().omit(e,"option"))),t.belongTo=D().map(t.belongTo,(e=>(e.option.edit=!!e.option.edit,e))),t.belongTo=D().orderBy(t.belongTo,["internalNumber"],["desc"]),this.showApplyBtn=!D().isEqual(t,e)}},mounted(){const e=localStorage.getItem("queueUid");l.h8.viewQueue(e),this.unsubscribe=this.$store.subscribe((e=>{H.Z.queues.includes(e.type)?this.isEqual():"queueInfoMutation"===e.type&&(this.showApplyBtn=!1)}))},beforeDestroy(){this.unsubscribe(),this.$store.dispatch("setDeleteQueueInfo",!1)}},Y=V,j=(0,g.Z)(Y,a,i,!1,null,null,null),z=j.exports},60949:function(e,t,s){s.d(t,{Z:function(){return r},e:function(){return o}});s(57658);var a=s(51579),i=s.n(a),n=s(83850);function o(e,t,s){e.mainList.getMainList=[],e.mainList.topList=[],e.mainList.bottomList=[],t.forEach((t=>{let a=!1;e[s].forEach((e=>{e.uid===t.uid&&(a=!0)})),a?e.mainList.topList.push(t):e.mainList.bottomList.push(t)})),e.mainList.getMainList=i().concat(e.mainList.topList,e.mainList.bottomList)}function r(e,t,s,a,i){const o=n.Z.changeCountry(t,e.mainList.topList,e.mainList.bottomList,"uid");e.mainList.topList=o.topList,e.mainList.bottomList=o.bottomList,e.mainList.getMainList=o.getCountries;let r=[];e[s].filter((e=>e.uid===t.uid)).length?r=e[s].filter((e=>e.uid!==t.uid)):(r=JSON.parse(JSON.stringify(e[s])),r.push(t)),i&&(e[s]=r),e.name="",e.fetch(),e[a](r)}},83850:function(e,t,s){s(57658);var a=s(51579),i=s.n(a);t["Z"]={changeCountry(e,t,s,a){let n=t,o=s,r=[];if(e){const t=n.filter((t=>t[a]===e[a]));t.length?(n=n.filter((t=>t[a]!==e[a])),o.push(e)):(o=o.filter((t=>t[a]!==e[a])),n.push(e)),n=i().sortBy(n,[a]),o=i().sortBy(o,[a]),r=i().concat(n,o)}else o=r=i().concat(JSON.parse(JSON.stringify(n)),JSON.parse(JSON.stringify(o))),n=[];return{topList:n,bottomList:o,getCountries:r}}}},35211:function(e,t){t["Z"]={user:["pushField","addSelectedQueues","setDeps","setNewRole","setVNumber","userDepsManaged","userQueuesManaged","setPermissionCDRMutation","viewBillingReportsMutatution","editQueueMutation"],departments:["pushNameDepartment","pushAgentsDepartment","pushManagersDepartment","pushNumbersDepartment"],queues:["strategyMutation","timeoutMutation","ringinuseMutation","waitMutation","queueNameInfoMutation","strategyInfoMutaion","timeoutInfoMutation","ringInUseInfoMutation","maxWaitInfoMutation","agentsQueueInfoMutation","managersQueueInfoMutation","updateQueuesInListMutation"],numbers:["setNumbers","deleteNumber"],paginator:{CDR:["pageCDRMutation","peerPageCDRMutation"],departments:["setDepPage","setDepPerPage"],users:["setUserPage","setUserPerPage"],queues:["setQueuePage","setQueuePerPage"],numbers:["setNumPage","setNumPerPage"],depForNums:["setDepPage","setDepPerPage"],payments:["setPaymentsPage","setPaymentsPerPage"],charges:["setChargesPage","setChargesPerPage"],leftRoutes:["setLeftRoutesPage","setLeftRoutesPerPage"],rightRoutes:["setRightRoutesPage","setRightRoutesPerPage"]},scenarios:["itemScenariosMutation","deleteItemMutation","changeNameScenarioMutation","newScenarioMutation","isSwappedModeMutation","listScenariosMutationWithObservers","arrayUidsOfDeleteScenariosMutation","listScenariosMutationAfterChangeName","arrayOfScenariosWithChangedNameMutation"]}}}]);