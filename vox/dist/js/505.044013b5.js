"use strict";(self["webpackChunkVoxonics"]=self["webpackChunkVoxonics"]||[]).push([[505],{12246:function(e,t,s){s.d(t,{Z:function(){return c}});var i=function(){var e=this,t=e._self._c;return e.deleteInfo?t("div",{staticClass:"personal-info-wrap",style:{top:`${e.topProp}px`,height:`calc(100% - ${e.topProp}px)`}},[t("div",{staticClass:"delete-block"},[t("span",[t("div",{staticClass:"delete-top-block"},[e._m(0),t("div",{staticClass:"top-content-block"},[t("span",{staticClass:"top-title"},[e._v(e._s(e.titleProp))]),t("span",{staticClass:"top-content"},[e._v(e._s(e.textProp))])])]),t("div",{staticClass:"delete-btn-block"},[t("span",{staticClass:"cancel-btn",on:{click:function(t){return e.cancelDeleteItem()}}},[e._v("Cancel")]),t("span",{staticClass:"delete-btn",on:{click:function(t){return e.deleteItem()}}},[e._v("Delete ")])])])])]):e._e()},a=[function(){var e=this,t=e._self._c;return t("span",{staticClass:"delete-image"},[t("img",{attrs:{src:s(21920),alt:"delete"}})])}],r={name:"DeleteQueue",props:["deleteFunc","cancelDeleteFunc","deleteInfo","textProp","titleProp","topProp"],methods:{cancelDeleteItem(){this.$emit("cancelDeleteFunc")},deleteItem(){this.$emit("deleteFunc")}},mounted(){document.addEventListener("keydown",(e=>{"Enter"===e.key&&this.deleteInfo&&this.deleteItem(),"Escape"===e.key&&this.deleteInfo&&this.cancelDeleteItem()}))}},n=r,l=s(1001),o=(0,l.Z)(n,i,a,!1,null,"55a9bb86",null),c=o.exports},29935:function(e,t,s){s.r(t),s.d(t,{default:function(){return we}});var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"wrap-main"},[t("DeleteComponent",{attrs:{deleteInfo:e.getDeleteUser,textProp:e.textToDeleteComponent,titleProp:e.titleToDeleteComponent,topProp:0},on:{deleteFunc:e.deleteUser,cancelDeleteFunc:e.cancelDelete}}),t("div",{staticClass:"header-edit-user"},[t("button",{staticClass:"go-back-btn",on:{click:function(t){return e.goBack()}}},[t("svg",{attrs:{width:"10",height:"18",viewBox:"0 0 10 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[t("path",{attrs:{d:"M9 17L1 9L9 1",stroke:"#276899","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}})])]),t("div",{staticClass:"tab"},[t("svg",{attrs:{width:"33",height:"29",viewBox:"20 15 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[t("rect",{attrs:{x:"17",y:"16",width:"33",height:"29",rx:"8",fill:"light"===e.theme?"none":"#17212B"}}),t("mask",{attrs:{id:"path-2-inside-1",fill:"white"}},[t("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M45.9469 39.0923C45.9469 39.6852 45.4293 40.1663 44.789 40.1663C44.1486 40.1663 43.6311 39.6852 43.6311 39.0923C43.6311 36.1311 41.0339 33.7219 37.8416 33.7219C34.6493 33.7219 32.0521 36.1311 32.0521 39.0923C32.0521 39.6852 31.5345 40.1663 30.8942 40.1663C30.2539 40.1663 29.7363 39.6852 29.7363 39.0923C29.7363 34.9464 33.3733 31.5738 37.8416 31.5738C42.3099 31.5738 45.9469 34.9464 45.9469 39.0923ZM37.8416 23.25C39.1187 23.25 40.1574 24.3339 40.1574 25.6667C40.1574 26.9995 39.1187 28.0833 37.8416 28.0833C36.5644 28.0833 35.5258 26.9995 35.5258 25.6667C35.5258 24.3339 36.5644 23.25 37.8416 23.25ZM37.8425 30.5007C40.3968 30.5007 42.4741 28.3329 42.4741 25.6673C42.4741 23.0017 40.3968 20.834 37.8425 20.834C35.2882 20.834 33.2109 23.0017 33.2109 25.6673C33.2109 28.3329 35.2882 30.5007 37.8425 30.5007Z"}})]),t("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M45.9469 39.0923C45.9469 39.6852 45.4293 40.1663 44.789 40.1663C44.1486 40.1663 43.6311 39.6852 43.6311 39.0923C43.6311 36.1311 41.0339 33.7219 37.8416 33.7219C34.6493 33.7219 32.0521 36.1311 32.0521 39.0923C32.0521 39.6852 31.5345 40.1663 30.8942 40.1663C30.2539 40.1663 29.7363 39.6852 29.7363 39.0923C29.7363 34.9464 33.3733 31.5738 37.8416 31.5738C42.3099 31.5738 45.9469 34.9464 45.9469 39.0923ZM37.8416 23.25C39.1187 23.25 40.1574 24.3339 40.1574 25.6667C40.1574 26.9995 39.1187 28.0833 37.8416 28.0833C36.5644 28.0833 35.5258 26.9995 35.5258 25.6667C35.5258 24.3339 36.5644 23.25 37.8416 23.25ZM37.8425 30.5007C40.3968 30.5007 42.4741 28.3329 42.4741 25.6673C42.4741 23.0017 40.3968 20.834 37.8425 20.834C35.2882 20.834 33.2109 23.0017 33.2109 25.6673C33.2109 28.3329 35.2882 30.5007 37.8425 30.5007Z",fill:"#276899"}}),t("path",{attrs:{d:"M43.9469 39.0923C43.9469 38.4429 44.4676 38.1663 44.789 38.1663V42.1663C46.391 42.1663 47.9469 40.9274 47.9469 39.0923H43.9469ZM44.789 38.1663C45.1104 38.1663 45.6311 38.4429 45.6311 39.0923H41.6311C41.6311 40.9274 43.1869 42.1663 44.789 42.1663V38.1663ZM45.6311 39.0923C45.6311 34.8876 41.9943 31.7219 37.8416 31.7219V35.7219C40.0735 35.7219 41.6311 37.3745 41.6311 39.0923H45.6311ZM37.8416 31.7219C33.6889 31.7219 30.0521 34.8876 30.0521 39.0923H34.0521C34.0521 37.3745 35.6096 35.7219 37.8416 35.7219V31.7219ZM30.0521 39.0923C30.0521 38.4429 30.5728 38.1663 30.8942 38.1663V42.1663C32.4963 42.1663 34.0521 40.9274 34.0521 39.0923H30.0521ZM30.8942 38.1663C31.2156 38.1663 31.7363 38.4429 31.7363 39.0923H27.7363C27.7363 40.9274 29.2922 42.1663 30.8942 42.1663V38.1663ZM31.7363 39.0923C31.7363 36.19 34.3335 33.5738 37.8416 33.5738V29.5738C32.4131 29.5738 27.7363 33.7027 27.7363 39.0923H31.7363ZM37.8416 33.5738C41.3497 33.5738 43.9469 36.19 43.9469 39.0923H47.9469C47.9469 33.7027 43.2701 29.5738 37.8416 29.5738V33.5738ZM37.8416 25.25C37.8982 25.25 37.9661 25.271 38.0344 25.3423C38.104 25.415 38.1574 25.5261 38.1574 25.6667H42.1574C42.1574 23.3105 40.3028 21.25 37.8416 21.25V25.25ZM38.1574 25.6667C38.1574 25.8072 38.104 25.9184 38.0344 25.991C37.9661 26.0623 37.8982 26.0833 37.8416 26.0833V30.0833C40.3028 30.0833 42.1574 28.0228 42.1574 25.6667H38.1574ZM37.8416 26.0833C37.785 26.0833 37.7171 26.0623 37.6488 25.991C37.5792 25.9184 37.5258 25.8072 37.5258 25.6667H33.5258C33.5258 28.0228 35.3804 30.0833 37.8416 30.0833V26.0833ZM37.5258 25.6667C37.5258 25.5261 37.5792 25.415 37.6488 25.3423C37.7171 25.271 37.785 25.25 37.8416 25.25V21.25C35.3804 21.25 33.5258 23.3105 33.5258 25.6667H37.5258ZM37.8425 32.5007C41.5809 32.5007 44.4741 29.3562 44.4741 25.6673H40.4741C40.4741 27.3096 39.2127 28.5007 37.8425 28.5007V32.5007ZM44.4741 25.6673C44.4741 21.9784 41.5809 18.834 37.8425 18.834V22.834C39.2127 22.834 40.4741 24.0251 40.4741 25.6673H44.4741ZM37.8425 18.834C34.1041 18.834 31.2109 21.9784 31.2109 25.6673H35.2109C35.2109 24.0251 36.4723 22.834 37.8425 22.834V18.834ZM31.2109 25.6673C31.2109 29.3562 34.1041 32.5007 37.8425 32.5007V28.5007C36.4723 28.5007 35.2109 27.3096 35.2109 25.6673H31.2109Z",fill:"#276899",mask:"url(#path-2-inside-1)"}}),t("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M29.1942 30.2363H25.9376V26.8379C25.9376 26.5247 25.6944 26.2715 25.3948 26.2715C25.0952 26.2715 24.8521 26.5247 24.8521 26.8379V30.2363H21.5955C21.2959 30.2363 21.0527 30.4895 21.0527 30.8027C21.0527 31.116 21.2959 31.3691 21.5955 31.3691H24.8521V34.7676C24.8521 35.0808 25.0952 35.334 25.3948 35.334C25.6944 35.334 25.9376 35.0808 25.9376 34.7676V31.3691H29.1942C29.4938 31.3691 29.7369 31.116 29.7369 30.8027C29.7369 30.4895 29.4938 30.2363 29.1942 30.2363Z",fill:"#276899"}}),t("defs",[t("filter",{attrs:{id:"filter0_d",x:"0",y:"0",width:"65",height:"61",filterUnits:"userSpaceOnUse","color-interpolation-filters":"sRGB"}},[t("feFlood",{attrs:{"flood-opacity":"0",result:"BackgroundImageFix"}}),t("feColorMatrix",{attrs:{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}}),t("feOffset",{attrs:{dx:"-1"}}),t("feGaussianBlur",{attrs:{stdDeviation:"8"}}),t("feColorMatrix",{attrs:{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"}}),t("feBlend",{attrs:{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}}),t("feBlend",{attrs:{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"}})],1),t("filter",{attrs:{id:"filter1_d",x:"25.7363",y:"20.834",width:"24.2105",height:"27.3323",filterUnits:"userSpaceOnUse","color-interpolation-filters":"sRGB"}},[t("feFlood",{attrs:{"flood-opacity":"0",result:"BackgroundImageFix"}}),t("feColorMatrix",{attrs:{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}}),t("feOffset",{attrs:{dy:"4"}}),t("feGaussianBlur",{attrs:{stdDeviation:"2"}}),t("feColorMatrix",{attrs:{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}}),t("feBlend",{attrs:{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}}),t("feBlend",{attrs:{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"}})],1),t("filter",{attrs:{id:"filter2_d",x:"17.0527",y:"26.2715",width:"16.6842",height:"17.0625",filterUnits:"userSpaceOnUse","color-interpolation-filters":"sRGB"}},[t("feFlood",{attrs:{"flood-opacity":"0",result:"BackgroundImageFix"}}),t("feColorMatrix",{attrs:{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}}),t("feOffset",{attrs:{dy:"4"}}),t("feGaussianBlur",{attrs:{stdDeviation:"2"}}),t("feColorMatrix",{attrs:{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}}),t("feBlend",{attrs:{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}}),t("feBlend",{attrs:{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"}})],1)])]),t("span",[e._v("Settings overview")])])]),t("img",{directives:[{name:"show",rawName:"v-show",value:e.userInfo.uid!==e.userUid,expression:"userInfo.uid !== userUid"},{name:"tippy",rawName:"v-tippy",value:{placement:"top",arrow:!0,delay:800,duration:500},expression:"{ placement : 'top',  arrow: true, delay : 800, duration: 500 }"}],staticClass:"trash-user",attrs:{content:"Delete user",src:s(3996),alt:"trash",width:"30"},on:{click:function(t){return e.del()}}}),t("div",{staticClass:"wrap-form"},[t("PersonalInfo"),t("AgentSetup"),t("QSettings"),t("ManagerSettings"),t("div",{staticClass:"btn-container"},[t("button",{staticClass:"btn-submit",attrs:{disabled:!e.showApplyBtn},on:{click:e.handlerSubmit}},[e._v("Apply Changes")])])],1)],1)},a=[],r=(s(57658),s(38827)),n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"personal-info-wrap"},[e._m(0),t("div",{staticClass:"wrap-body"},[t("FileLoader",{attrs:{userUidProp:!0}}),t("div",{staticClass:"personal-info"},[t("div",{staticClass:"personal-info__first-part"},[t("div",{staticClass:"item-container with-err"},[t("label",[e._v(" Name* "),t("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.userInfo.name,expression:"userInfo.name",modifiers:{trim:!0}}],staticClass:"input-field",class:{error:!e.userInfo.name.length},attrs:{placeholder:"Enter user name",maxlength:"16"},domProps:{value:e.userInfo.name},on:{input:[function(t){t.target.composing||e.$set(e.userInfo,"name",t.target.value.trim())},function(t){e.setUserInfo({name:e.userInfo.name}),e.checkName()}],blur:function(t){return e.$forceUpdate()}}})]),e.errors.name?t("div",{staticClass:"alert"},[e._v(e._s(e.errors.name))]):e._e()]),t("div",{staticClass:"item-container with-err"},[t("label",[e._v("Phone "),t("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.userInfo.phone,expression:"userInfo.phone",modifiers:{trim:!0}}],staticClass:"input-field",attrs:{placeholder:"Only digits",type:"text",maxlength:"15"},domProps:{value:e.userInfo.phone},on:{input:[function(t){t.target.composing||e.$set(e.userInfo,"phone",t.target.value.trim())},function(t){e.setUserInfo({phone:e.userInfo.phone||null}),e.checkPhone()}],blur:function(t){return e.$forceUpdate()}}})]),e.errors.phone?t("div",{staticClass:"alert"},[e._v(e._s(e.errors.phone))]):e._e()]),t("div",{staticClass:"item-container"},[t("label",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.hide,expression:"hide"}],ref:"list",staticClass:"options-label"},[e._v("Location: "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.userInfo.location,expression:"userInfo.location"}],staticClass:"input-field num",attrs:{type:"text",placeholder:"London, UK",maxlength:"16"},domProps:{value:e.userInfo.location},on:{input:[function(t){t.target.composing||e.$set(e.userInfo,"location",t.target.value)},function(t){return e.search(t.target.value)}]}}),t("span",{staticClass:"triangle",class:{"rotate-arrow":"location"===e.showList},on:{click:function(t){return e.setParam("showList","location","location")}}},[t("img",{attrs:{src:s(97646),alt:"select"}})]),t("DropdownList",{directives:[{name:"show",rawName:"v-show",value:"location"===e.showList,expression:"showList === 'location'"}],attrs:{dataList:e.getGlobalLocations,classNameList:"list-related-numbers",itemText:e=>e.location,classNameItemComputed:t=>e.userInfoVuex.location===t.location?"selected":""},on:{clickFunc:t=>{e.setUserInfo({location:t.location}),e.setParam("userInfo.location",t.location)},scrollFunc:t=>e.funScroll(t)}})],1)]),t("div",{staticClass:"item-container with-err"},[t("label",[e._v("Agent Number (id)* "),t("input",{directives:[{name:"facade",rawName:"v-facade",value:"###",expression:"'###'"},{name:"model",rawName:"v-model.trim",value:e.userInfo.internalNumber,expression:"userInfo.internalNumber",modifiers:{trim:!0}}],staticClass:"input-field",class:{error:e.errors.internalNumber},attrs:{placeholder:"000",type:"text",maxlength:"3"},domProps:{value:e.userInfo.internalNumber},on:{input:[function(t){t.target.composing||e.$set(e.userInfo,"internalNumber",t.target.value.trim())},function(t){e.checkInternalNumber(),e.setUserInfo({internalNumber:e.userInfo.internalNumber})}],blur:function(t){return e.$forceUpdate()}}})]),e.errors.internalNumber?t("div",{staticClass:"alert"},[e._v(" "+e._s(e.errors.internalNumber)+" ")]):e._e()]),t("div",{staticClass:"item-container with-err"},[t("label",[e._v("Email "),t("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.userInfo.email,expression:"userInfo.email",modifiers:{trim:!0}}],staticClass:"input-field",attrs:{placeholder:"example@voxonics.com",type:"email",maxlength:"36"},domProps:{value:e.userInfo.email},on:{input:[function(t){t.target.composing||e.$set(e.userInfo,"email",t.target.value.trim())},function(t){e.checkEmail(),e.setUserInfo({email:e.userInfo.email||null})}],blur:function(t){return e.$forceUpdate()}}})]),e.errors.email?t("div",{staticClass:"alert"},[e._v(e._s(e.errors.email))]):e._e()]),t("div",{staticClass:"item-container"},[t("label",[e._v("Position "),t("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.userInfo.position,expression:"userInfo.position",modifiers:{trim:!0}}],staticClass:"input-field",attrs:{placeholder:"Sales Manager",type:"text",maxlength:"16"},domProps:{value:e.userInfo.position},on:{input:[function(t){t.target.composing||e.$set(e.userInfo,"position",t.target.value.trim())},function(t){return e.setUserInfo({position:e.userInfo.position||null})}],blur:function(t){return e.$forceUpdate()}}})])]),t("div",{staticClass:"item-container password-field"},[t("label",[e._v("Password* "),t("div",{staticClass:"icon-eye",class:{"icon-eye":"text"===e.passwordFieldType,"icon-eye-close":"password"===e.passwordFieldType},on:{click:e.switchVisibility}}),t("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.userInfo.password,expression:"userInfo.password",modifiers:{trim:!0}}],staticClass:"input-field",attrs:{placeholder:"Enter password",type:e.passwordFieldType,maxlength:"16"},domProps:{value:e.userInfo.password},on:{input:[function(t){t.target.composing||e.$set(e.userInfo,"password",t.target.value.trim())},function(t){e.checkPassword(),e.setUserInfo({password:e.userInfo.password})}],blur:function(t){return e.$forceUpdate()}}})]),e.errors.password?t("div",{staticClass:"alert-pass"},[e._v(" "+e._s(e.errors.password)+" ")]):e._e()]),t("div",{staticClass:"item-container password-field"},[t("label",[e._v("Confirm* "),e.switchVisibilityConfirm?t("div",{on:{click:e.switchVisibilityConfirm}},[t("span",{class:{"icon-eye":"text"===e.passwordConfirmFieldType,"icon-eye-close":"password"===e.passwordConfirmFieldType}})]):e._e(),t("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.userInfo.confirm,expression:"userInfo.confirm",modifiers:{trim:!0}}],staticClass:"input-field",attrs:{placeholder:"Confirm password",type:e.passwordConfirmFieldType,maxlength:"16"},domProps:{value:e.userInfo.confirm},on:{input:[function(t){t.target.composing||e.$set(e.userInfo,"confirm",t.target.value.trim())},function(t){e.confirmPassword(),e.setUserInfo({confirm:e.userInfo.confirm})}],blur:function(t){return e.$forceUpdate()}}}),e.errors.confirm?t("div",{staticClass:"alert-pass"},[e._v(" "+e._s(e.errors.confirm)+" ")]):e._e()])])])])],1)])},l=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"wrap-head"},[t("h2",{staticClass:"wrap-head-title"},[e._v("PERSONAL INFO")]),t("span",{staticClass:"hr"})])}],o=s(42225),c=s(39132),u=s(45014),d=s(90408),p=s(13776),h=s(51579),m=s.n(h),f=s(65233),g=s.n(f),C={name:"PersonalInfo",components:{FileLoader:o.Z,DropdownList:c.Z},data(){return{unsubscribe:()=>{},userInfo:{name:"",phone:"",location:"",position:"",email:"",internalNumber:"",password:"",confirm:""},errors:{name:"",phone:"",email:"",internalNumber:"",password:"",confirm:""},passwordFieldType:"password",passwordConfirmFieldType:"password",passwordConfirmIcon:"icon-eye",showList:"",count:10,perPage:9,timer:null}},computed:{...(0,d.Se)(["userInfoVuex","getGlobalLocations"])},methods:{funScroll({target:e}){e.clientHeight+e.scrollTop===e.scrollHeight&&this.count>this.perPage&&(this.perPage+=9,this.fetch("location",this.perPage,this.userInfo.location))},search(e){clearTimeout(this.timer),this.timer=setTimeout((()=>this.fetch("location",this.perPage,e)),800)},checkName(){u.Z.checkName(this)},checkPhone(){u.Z.checkPhone(this)},checkEmail(){u.Z.checkEmail(this)},checkInternalNumber(){if(0===+this.userInfo.internalNumber&&"root"===this.userInfoVuex.permission.role)return;const e=window.location.href.split("/").pop();u.Z.checkInternalNumber(this,e)},checkPassword(){u.Z.checkPassword(this)},confirmPassword(){u.Z.confirmPassword(this)},switchVisibility(){this.passwordFieldType="password"===this.passwordFieldType?"text":"password"},switchVisibilityConfirm(){this.passwordConfirmFieldType="password"===this.passwordConfirmFieldType?"text":"password",this.passwordConfirmIcon="icon-eye"===this.passwordConfirmIcon?"icon-eye-close":"icon-eye"},fetch(e,t,s){switch(this.$store.dispatch("setSpinner",!0),e){case"location":return p.Z.getLocation(t,s).then((e=>(this.count=e.paginator.count,e.data)));default:break}},setParam(e,t,s){m().get(this,e)===t?m().set(this,e,""):m().set(this,e,t),s&&this.fetch(s,this.perPage,this.userInfo.location)},setUserInfo(e){this.showList="",this.$store.dispatch("changeUserInfo",e)},setKeys(){for(const e in this.userInfoVuex)Object.prototype.hasOwnProperty.call(this.userInfo,e)&&Object.prototype.hasOwnProperty.call(this.userInfoVuex,e)&&(this.userInfo[e]=this.userInfoVuex[e])},hide(){this.showList=""}},mounted(){this.setKeys(),this.unsubscribe=this.$store.subscribe((e=>{"setUserInfo"===e.type&&this.setKeys()})),this.popupItem=this.$refs.list},beforeDestroy(){this.unsubscribe()},directives:{ClickOutside:g()}},v=C,b=s(1001),w=(0,b.Z)(v,n,l,!1,null,"8b376b56",null),_=w.exports,P=function(){var e=this,t=e._self._c;return t("div",{staticClass:"wrap-agent-setup"},[t("div",{staticClass:"wrap-head"},[t("h2",{staticClass:"wrap-head-title"},[e._v("AGENT SETUP")]),t("svg",{staticClass:"arrow",class:{down:e.showOptions},attrs:{viewBox:"0 0 10 18",fill:"transparent",xmlns:"http://www.w3.org/2000/svg"},on:{click:function(t){e.showOptions=!e.showOptions}}},[t("path",{attrs:{d:"M9 1L1 9L9 17","stroke-width":"2",stroke:"var(--light-blue)","stroke-linecap":"round","stroke-linejoin":"round"}})]),t("span",{staticClass:"hr"})]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.showOptions,expression:"showOptions"},{name:"click-outside",rawName:"v-click-outside",value:e.hide,expression:"hide"}],ref:"hideList",staticClass:"wrap-body",on:{click:function(t){e.hideListOptions(),e.indexRef="false"}}},[t("div",{staticClass:"agent-setup__second-part"},[t("div",{staticClass:"item-container"},[e.userInfo&&e.userInfoVuex?t("label",{ref:"Role",staticClass:"options-label",on:{click:function(t){e.indexRef="Role"}}},[t("span",{staticClass:"options-title"},[e._v("Role")]),t("input",{staticClass:"input-field",attrs:{type:"text",readonly:""},domProps:{value:e.userInfoVuex.permission.role},on:{click:function(t){return t.stopPropagation(),e.toggleListRole.apply(null,arguments)}}}),e.disableRole||e.userInfo.internalNumber==e.userInfoVuex.internalNumber?e._e():t("span",{staticClass:"triangle",class:{"rotate-arrow":e.showRole}},[t("img",{attrs:{src:s(17406),alt:"select"}})]),t("DropdownList",{directives:[{name:"show",rawName:"v-show",value:e.showRole&&e.userInfo.internalNumber!=e.userInfoVuex.internalNumber,expression:"showRole && userInfo.internalNumber != userInfoVuex.internalNumber"}],attrs:{classNameList:"list-related-numbers",dataList:e.listOfRoles,itemText:e=>e},on:{clickFunc:t=>e.selectRole(t)}})],1):e._e()]),t("div",{staticClass:"item-container"},[t("label",{ref:"Departments Settings",staticClass:"options-label",on:{click:function(t){e.indexRef="Departments Settings"}}},[t("span",{staticClass:"options-title"},[e._v("Departments Settings")]),t("input",{staticClass:"input-field dep",attrs:{type:"text",maxlength:"16"},domProps:{value:e.inputDepValue},on:{input:function(t){return e.searchDeps(t.target.value)}}}),t("span",{staticClass:"triangle",class:{"rotate-arrow":e.show},on:{click:function(t){return e.toggleVisible(!e.show,"show")}}},[t("img",{attrs:{src:s(17406),alt:"select"}})]),t("DropdownList",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],attrs:{classNameList:"list-related-numbers",dataList:e.getDep,itemText:e=>e.name,showItem:t=>!e.departments||!e.departments.filter((e=>e.uid===t.uid)).length||!e.collapse,classNameItemComputed:t=>e.departments&&e.departments.filter((e=>e.uid===t.uid)).length?e.collapse?"selected collapsed":"selected":""},on:{clickFunc:t=>{e.chooseDepartments(t),e.departmentsToArray(t)},scrollFunc:t=>e.funScroll(t)}},[t("span",{staticClass:"collapse",on:{click:function(t){e.collapse=!e.collapse}}},[t("img",{staticClass:"button",attrs:{src:e.collapse?e.extendImg:e.collapseImg,alt:"collapse"}}),t("span",{staticClass:"text"},[e._v("Selected users available to you:")]),t("span",{staticClass:"amount"},[e._v(e._s(e.topList.length))])])])],1)])]),t("span",{staticClass:"hr line-beetwen-sections"}),e._m(0)])])},x=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"agent-setup__second-part"},[t("div",{staticClass:"item-container"},[t("label",{staticClass:"options-label"},[t("span",{staticClass:"options-title"},[e._v("Calls Direction*")]),t("span",{staticClass:"input-field"},[e._v(" 00 - all ")])]),t("p",{staticClass:"calls-info"},[t("span",[e._v("*You can change it by contacting us")])])]),t("div",{staticClass:"item-container"},[t("label",{staticClass:"options-label"},[t("span",{staticClass:"options-title"},[e._v("V-number**")]),t("input",{staticClass:"input-field num",staticStyle:{"pointer-events":"none",outline:"none"},attrs:{type:"text",value:"Preferred",readonly:""}})]),t("p",{staticClass:"calls-info"},[t("span",[e._v("**You can change it in Outbound routing")])])])])}],y=s(68956),k=s.n(y),D=s(34675),L=s(76692),I=s(83850),Q=s(3197),S={name:"AgentSetup",components:{DropdownList:c.Z},data(){return{unsubscribe:()=>{},collapseImg:D,extendImg:L,collapse:!1,show:!1,showOptions:!0,search:"",showSearchResults:!1,markedDepartments:"0 selected",selectedDepartments:[],role:"",showRole:!1,topList:[],bottomList:[],getDep:[],perPage:9,indexRef:"",depSearchValue:"",timer:null}},computed:{...(0,d.Se)(["userInfoVuex","getGlobalDepartments","departments","getOutboundDirection","number","userRole","roleAgent","userInfo","getPaginatorDepartment"]),inputDepValue(){return this.show?this.depSearchValue:this.markedDepartments},listOfRoles(){return this.$store.state.displayConfig.displayConfig.createUser.agentSetup.listRoles},disableRole(){return this.$store.state.displayConfig.displayConfig.createUser.agentSetup.disableRoles.includes(this.userRole)}},watch:{departments(){this.chooseDepartments()}},methods:{departmentsToArray(e){const t=I.Z.changeCountry(e,this.topList,this.bottomList,"uid");this.topList=t.topList,this.bottomList=t.bottomList,this.getDep=t.getCountries},funScroll({target:e}){e.clientHeight+e.scrollTop===e.scrollHeight&&this.getPaginatorDepartment.paginator.count>this.perPage&&(this.perPage+=9,this.fetch())},searchDeps(e){this.depSearchValue=e,clearTimeout(this.timer),this.timer=setTimeout((()=>this.fetch()),800)},fetch(){this.$store.dispatch("setGlobalDepartmentsList",{peerPage:this.perPage,search:this.depSearchValue})},selectRole(e){this.role=e,this.$store.dispatch("changeRole",this.role)},hideListOptions(){(0,Q.O)(this,this.indexRef,this.$refs)},hide(){this.toggleVisible(!1,"show"),this.showRole=!1},toggleListRole(){this.showRole=!this.showRole},toggleVisible(e,t){this[t]=e},chooseDepartments(e){if(this.selectedDepartments=this.departments,e){const t=this.departments?.filter((t=>t.uid===e.uid));t.length?this.selectedDepartments=this.departments?.filter((t=>t.uid!==e.uid)):this.selectedDepartments.push(e),this.$store.dispatch("changeDeps",this.selectedDepartments)}let t="";this.departments?.length?(this.departments?.forEach((e=>t+=e.name+", ")),this.markedDepartments=`${this.departments?.length} selected (${t})`,this.markedDepartments=this.markedDepartments.slice(0,30)+"...)"):this.markedDepartments="0 selected"},initialisationList(){this.topList=JSON.parse(JSON.stringify(this.departments||[]));const e=m().uniqBy(m().concat(this.getDep,this.getGlobalDepartments),(e=>e.uid));this.bottomList=e.filter((e=>!this.topList.some((t=>e.uid===t.uid)))),this.getDep=m().concat(this.topList,this.bottomList)}},mounted(){this.chooseDepartments(),this.initialisationList(),this.unsubscribe=this.$store.subscribe((e=>{"pushRelatedDepartments"===e.type&&this.initialisationList()})),this.popupItem=this.$refs.hideList,this.role=this.userRole},beforeDestroy(){this.unsubscribe()},directives:{ClickOutside:k()}},N=S,R=(0,b.Z)(N,P,x,!1,null,"ebda06fc",null),M=R.exports,$=function(){var e=this,t=e._self._c;return"agent"!==e.userRole&&void 0!=e.userRole&&null!=e.userRole?t("div",{staticClass:"wrap-manager-setting",class:{disable:"manager"!==e.userRole}},[t("div",{staticClass:"wrap-head"},[t("h2",{staticClass:"wrap-head-title"},[e._v("MANAGER SETTINGS")]),t("svg",{staticClass:"arrow",class:{down:e.showOptions},attrs:{viewBox:"0 0 10 18",fill:"transparent",xmlns:"http://www.w3.org/2000/svg"},on:{click:function(t){e.showOptions=!e.showOptions}}},[t("path",{attrs:{d:"M9 1L1 9L9 17","stroke-width":"2",stroke:"var(--light-blue)","stroke-linecap":"round","stroke-linejoin":"round"}})]),t("span",{staticClass:"hr"})]),e.showOptions?[t("Departments"),t("AvailableQueues"),t("Permission")]:e._e()],2):e._e()},O=[],V=function(){var e=this,t=e._self._c;return t("section",{directives:[{name:"show",rawName:"v-show",value:"admin"!==e.userRole&&"owner"!==e.userRole,expression:"userRole !== 'admin' && userRole !== 'owner'"}],staticClass:"table-container"},[t("div",{staticClass:"table-title"},[e._v("Available Queues")]),t("div",{staticClass:"wrap-table"},[t("ul",{staticClass:"table-header"},[t("li",{staticClass:"header-item header-name",on:{click:function(t){return e.sortFunc("name","queueList","getRelatedQueuesName")}}},[e._v(" Name of Queue "),t("img",{ref:"getRelatedQueuesName",attrs:{src:s(71614)}})]),t("li",{staticClass:"header-item header-number",on:{click:function(t){return e.sortFunc("internalNumber","queueList","getRelatedQueuesNumber")}}},[e._v(" Queue Number "),t("img",{ref:"getRelatedQueuesNumber",attrs:{src:s(71614)}})]),t("li",{staticClass:"header-item header-length",on:{click:function(t){return e.sortFunc("userCount","queueList","getRelatedQueuesAgents")}}},[e._v(" Agents in Queue "),t("img",{ref:"getRelatedQueuesAgents",attrs:{src:s(71614)}})]),t("li",{staticClass:"header-item-action",on:{click:function(t){return e.sortFunc("option.edit","queueList","getRelatedQueuesAction")}}},[e._v(" Actions "),t("img",{ref:"getRelatedQueuesAction",attrs:{src:s(71614)}})])]),t("div",[t("div",{ref:"relList",staticClass:"list-group",class:{"add-shadow":e.queueList.length>4}},e._l(e.queueList,(function(s){return t("ul",{key:s.uid.slice(0,10),staticClass:"list-group-item"},[t("li",{staticClass:"department-name ellipsis"},[e._v(e._s(s.name))]),t("li",{staticClass:"department-user-uid"},[e._v(e._s(s.internalNumber))]),t("li",{staticClass:"department-queue-length"},[e._v(e._s(s.userCount))]),t("li",{staticClass:"action"},[t("label",{staticClass:"label-container"},[t("input",{staticClass:"view",attrs:{type:"checkbox"},domProps:{checked:s.view},on:{change:function(t){return e.chooseDep(s)}}}),t("span",{staticClass:"check"}),t("span",{staticClass:"text"},[e._v("View")])]),t("label",{staticClass:"label-container"},[t("input",{staticClass:"edit",attrs:{type:"checkbox"},domProps:{checked:s.option.edit},on:{change:function(t){return t.preventDefault(),e.setEdit(s)}}}),t("span",{staticClass:"check"}),t("span",{staticClass:"text"},[e._v("Edit")])])])])})),0)])])])},U=[],B=s(73427),F={name:"AvailableQueues",data(){return{queueList:[],selectedQueueList:[],order:{name:"asc",internalNumber:"asc",userCount:"asc","option.edit":"asc"},activeSort:"internalNumber",perPage:9}},watch:{getRelatedQueues(){this.userManageQueues.length>0&&(this.selectedQueueList=this.userManageQueues),this.createDataForView()},userManageQueues(){this.createDataForView()}},computed:{...(0,d.Se)(["getRelatedQueues","userRole","userManageQueues","getPaginatorQueues"])},methods:{onscroll(){this.$refs.relList.addEventListener("scroll",this.funScroll)},deleteScroll(){this.$refs.relList.removeEventListener("scroll",this.funScroll)},funScroll(){this.$refs.relList.clientHeight+this.$refs.relList.scrollTop===this.$refs.relList.scrollHeight&&this.getPaginatorQueues.paginator.count>this.perPage&&(this.perPage+=9,this.fetch(this.perPage,this.activeSort,"desc"===this.order[this.activeSort]?"asc":"desc"))},fetch(e,t,s){this.$store.dispatch("setGlobalQueuesList",{peerPage:e,sort:t,order:s})},sortFunc(e,t,s){if("option.edit"!==e){const t=(0,B.c)(this.fetch,this.$refs[s],this.order[e],this.perPage,e);this.order[e]=t.order,this.$refs[s]=t.refArrow,this.activeSort=e}else{const i=(0,B.k)(e,this[t],this.$refs[s],this.order[e]);this[t]=i.array,this.order[e]=i.order,this.$refs[s]=i.refArrow}},chooseDep(e){const t=this.selectedQueueList.filter((t=>t.uid===e.uid));t.length?(this.selectedQueueList=this.selectedQueueList.filter((t=>t.uid!==e.uid)),e.option.edit&&(e.option.edit=!1,this.queueList.forEach(((t,s)=>{if(e.uid===t.uid){t.option.edit=!1;const e={...t};this.queueList.splice(s,1,e)}})))):(e.view=!0,this.selectedQueueList.push(e)),this.$store.dispatch("setUserQueuesManaged",m().sortBy(this.selectedQueueList,[function(e){return e.name}]))},setEdit(e){const t=Object.assign({},e);t.view?t.option.edit=!t.option.edit:(t.view=!0,t.option.edit=!0,this.queueList.forEach(((e,s)=>{if(t.uid===e.uid){e.view=!0,e.option.edit=!0;const t={...e};this.queueList.splice(s,1,t)}}))),this.selectedQueueList=this.selectedQueueList.filter((e=>e.uid!==t.uid)),this.selectedQueueList.push(t),this.$store.dispatch("setUserQueuesManaged",m().sortBy(this.selectedQueueList,[function(e){return e.name}]))},createDataForView(){this.queueList=[],this.getRelatedQueues.forEach((e=>{e.view=!1,e.option={edit:!1};let t=!1;this.userManageQueues.length>0?(this.userManageQueues.forEach((s=>{let i=JSON.parse(JSON.stringify(s));i.uid===e.uid&&(t=!0,i.view=!0,i.option.edit&&(i.view=!0),this.queueList.push(i))})),t||this.queueList.push(e)):this.queueList.push(e)}))}},mounted(){this.onscroll(),this.userManageQueues.length>0&&(this.selectedQueueList=this.userManageQueues),this.createDataForView()},beforeDestroy(){this.deleteScroll()}},Z=F,A=(0,b.Z)(Z,V,U,!1,null,"17c70e3c",null),E=A.exports,H=function(){var e=this,t=e._self._c;return t("section",{directives:[{name:"show",rawName:"v-show",value:"admin"!==e.userRole&&"owner"!==e.userRole,expression:"userRole !== 'admin' && userRole !== 'owner'"}],staticClass:"table-container"},[t("div",{staticClass:"table-title"},[e._v("Departments to be managed")]),t("div",{staticClass:"wrap-table"},[t("ul",{staticClass:"table-header"},[t("li",{staticClass:"header-item",on:{click:function(t){return e.sortFunc("name","depList","name")}}},[e._v(" Name of Department "),t("img",{ref:"name",attrs:{src:s(71614)}})]),t("li",{staticClass:"header-item-action",on:{click:function(t){return e.sortFunc("option.edit","depList","action")}}},[e._v(" Actions "),t("img",{ref:"action",attrs:{src:s(71614)}})])]),t("div",[t("div",{ref:"relList",staticClass:"list-group",class:{"add-shadow":e.depList.length>4}},e._l(e.depList,(function(s){return t("ul",{key:s.uid.slice(0,10),staticClass:"list-group-item"},[t("li",{staticClass:"department-name ellipsis"},[e._v(e._s(s.name))]),t("li",{staticClass:"action"},[t("label",{staticClass:"label-container"},[t("input",{staticClass:"view",attrs:{type:"checkbox"},domProps:{checked:s.view},on:{change:function(t){return t.preventDefault(),e.chooseDep(s)}}}),t("span",{staticClass:"check"}),t("span",{staticClass:"text"},[e._v("View")])]),t("label",{staticClass:"label-container"},[t("input",{staticClass:"edit",attrs:{type:"checkbox"},domProps:{checked:s.option.edit},on:{change:function(t){return t.preventDefault(),e.setEdit(s)}}}),t("span",{staticClass:"check"}),t("span",{staticClass:"text"},[e._v("Edit")])])])])})),0)])])])},T=[],G={name:"Departments",data(){return{depList:[],selectedDepList:[],sort:{name:!0,action:!0},order:{name:"desc","option.edit":"desc"},activeSort:"",perPage:9}},watch:{getRelatedDepartments(){this.userManageDeps.length>0&&(this.selectedDepList=this.userManageDeps),this.createDataForView()},userManageDeps(){this.createDataForView()}},computed:{...(0,d.Se)(["getRelatedDepartments","userManageDeps","userRole","getPaginatorDepartment"])},methods:{onscroll(){this.$refs.relList.addEventListener("scroll",this.funScroll)},deleteScroll(){this.$refs.relList.removeEventListener("scroll",this.funScroll)},funScroll(){this.$refs.relList.clientHeight+this.$refs.relList.scrollTop===this.$refs.relList.scrollHeight&&this.getPaginatorDepartment.paginator.count>this.perPage&&(this.perPage+=9,this.fetch(this.perPage,this.activeSort,"desc"===this.order[this.activeSort]?"asc":"desc"))},fetch(e,t,s){this.$store.dispatch("setGlobalDepartmentsList",{peerPage:e,sort:t,order:s})},sortFunc(e,t,s){if("option.edit"!==e){const t=(0,B.c)(this.fetch,this.$refs[s],this.order[e],this.perPage,e);this.order[e]=t.order,this.$refs[s]=t.refArrow,this.activeSort=e}else{const i=(0,B.k)(e,this[t],this.$refs[s],this.order[e]);this[t]=i.array,this.order[e]=i.order,this.$refs[s]=i.refArrow}},chooseDep(e){const t=this.selectedDepList.filter((t=>t.uid===e.uid));t.length?(this.selectedDepList=this.selectedDepList.filter((t=>t.uid!==e.uid)),e.option.edit&&(e.option.edit=!1,this.depList.forEach(((t,s)=>{if(e.uid===t.uid){t.option.edit=!1;const e={...t};this.depList.splice(s,1,e)}})))):(e.view=!0,this.selectedDepList.push(e)),this.$store.dispatch("setUserDepsManaged",m().sortBy(this.selectedDepList,[function(e){return e.name}]))},setEdit(e){const t=Object.assign({},e);t.view?t.option.edit=!t.option.edit:(t.view=!0,t.option.edit=!0,this.depList.forEach(((e,s)=>{if(t.uid===e.uid){e.view=!0,e.option.edit=!0;const t={...e};this.depList.splice(s,1,t)}}))),this.selectedDepList=this.selectedDepList.filter((e=>e.uid!==t.uid)),this.selectedDepList.push(t),this.$store.dispatch("setUserDepsManaged",m().sortBy(this.selectedDepList,[function(e){return e.name}]))},createDataForView(){this.depList=[],this.getRelatedDepartments.map((e=>{e.view=!1,e.option={edit:!1};let t=!1;this.userManageDeps.length>0?(this.userManageDeps.forEach((s=>{let i=JSON.parse(JSON.stringify(s));i.uid===e.uid&&(t=!0,i.view=!0,i.option.edit&&(i.view=!0),this.depList.push(i))})),t||this.depList.push(e)):this.depList.push(e)}))}},mounted(){this.onscroll(),this.userManageDeps.length>0&&(this.selectedDepList=this.userManageDeps),this.createDataForView()},beforeDestroy(){this.deleteScroll()}},q=G,J=(0,b.Z)(q,H,T,!1,null,"63df259f",null),j=J.exports,K=function(){var e=this,t=e._self._c;return"admin"!==e.userRole&&"owner"!==e.userRole?t("div",{staticClass:"wrap-agent-setup"},[t("div",{staticClass:"wrap-head"},[t("h2",{staticClass:"wrap-head-title"},[e._v("Permission")]),t("svg",{staticClass:"arrow",class:{down:e.showOptions},attrs:{viewBox:"0 0 10 18",fill:"transparent",xmlns:"http://www.w3.org/2000/svg"},on:{click:function(t){e.showOptions=!e.showOptions}}},[t("path",{attrs:{d:"M9 1L1 9L9 17","stroke-width":"2",stroke:"var(--light-blue)","stroke-linecap":"round","stroke-linejoin":"round"}})]),t("span",{staticClass:"hr"})]),e.showOptions&&"admin"!==e.userRole&&"owner"!==e.userRole?t("div",{staticClass:"wrap-body"},[t("div",{staticClass:"wrap-tables"},[t("div",{staticClass:"calls-pipe__block"},[t("div",{staticClass:"calls-pipe__title"},[e._v("Calls History")]),e._m(0),t("ul",{staticClass:"calls-pipe__table-block"},[t("ul",{staticClass:"table-content"},[t("li",{staticClass:"table-content__item"},[e._v("All")]),t("li",{staticClass:"table-content__item"},[t("label",{staticClass:"table-content__label"},[t("input",{staticClass:"view",attrs:{type:"checkbox",disabled:e.cdr.listen||e.cdr.export||e.cdr.billing||e.disablePermission||e.userSelf},domProps:{checked:e.cdr.view||e.cdr.listen||e.cdr.export||e.cdr.billing},on:{click:function(t){return e.changeCDR("view","view")}}}),t("span",{staticClass:"check"})])]),t("li",{staticClass:"table-content__item"},[t("label",{staticClass:"table-content__label"},[t("input",{staticClass:"transfer",attrs:{type:"checkbox",disabled:e.disablePermission||e.userSelf},domProps:{checked:e.cdr.listen},on:{click:function(t){return e.changeCDR("listen","listen")}}}),t("span",{staticClass:"check"})])]),t("li",{staticClass:"table-content__item"},[t("label",{staticClass:"table-content__label"},[t("input",{staticClass:"reject",attrs:{type:"checkbox",disabled:e.disablePermission||e.userSelf},domProps:{checked:e.cdr.export},on:{click:function(t){return e.changeCDR("export","export")}}}),t("span",{staticClass:"check"})])]),t("li",{staticClass:"table-content__item"},[t("label",{staticClass:"table-content__label"},[t("input",{staticClass:"hangup",attrs:{type:"checkbox",disabled:e.disablePermission||e.userSelf},domProps:{checked:e.cdr.billing},on:{click:function(t){return e.changeCDR("billing","billing")}}}),t("span",{staticClass:"check"})])])]),t("ul",{staticClass:"table-content"},[t("li",{staticClass:"table-content__item"},[e._v("Personal")]),t("li",{staticClass:"table-content__item"},[t("label",{staticClass:"table-content__label"},[t("input",{staticClass:"personal-view",attrs:{type:"checkbox",disabled:e.cdr.view||e.cdr.listen||e.cdr.export||e.cdr.billing||e.cdr.billingP||e.cdr.listenP||e.cdr.exportP||e.cdr.billingP||e.disablePermission||e.userSelf},domProps:{checked:e.cdr.viewP||e.cdr.view||e.cdr.listen||e.cdr.export||e.cdr.billingP||e.cdr.viewP||e.cdr.listenP||e.cdr.exportP||e.cdr.billingP},on:{click:function(t){return e.changeCDR("viewP","view")}}}),t("span",{staticClass:"check"})])]),t("li",{staticClass:"table-content__item"},[t("label",{staticClass:"table-content__label"},[t("input",{staticClass:"personal-transfer",attrs:{type:"checkbox",disabled:e.cdr.listen||e.disablePermission||e.userSelf},domProps:{checked:e.cdr.listenP||e.cdr.listen},on:{click:function(t){return e.changeCDR("listenP","listen")}}}),t("span",{staticClass:"check"})])]),t("li",{staticClass:"table-content__item"},[t("label",{staticClass:"table-content__label"},[t("input",{staticClass:"personal-transfer",attrs:{type:"checkbox",disabled:e.cdr.export||e.disablePermission||e.userSelf},domProps:{checked:e.cdr.exportP||e.cdr.export},on:{click:function(t){return e.changeCDR("exportP","export")}}}),t("span",{staticClass:"check"})])]),t("li",{staticClass:"table-content__item"},[t("label",{staticClass:"table-content__label"},[t("input",{staticClass:"personal-transfer",attrs:{type:"checkbox",disabled:e.cdr.billing||e.disablePermission||e.userSelf},domProps:{checked:e.cdr.billingP||e.cdr.billing},on:{click:function(t){return e.changeCDR("billingP","billing")}}}),t("span",{staticClass:"check"})])])])])]),t("div",{staticClass:"wrap-tables bottom-wrap"},[t("div",{staticClass:"calls-pipe__block billing"},[t("div",{staticClass:"calls-pipe__title"},[e._v("Billing")]),e._m(1),t("ul",{staticClass:"calls-pipe__table-block"},[t("ul",{staticClass:"table-content"},[t("li",{staticClass:"table-content__item"},[t("label",{staticClass:"table-content__label"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.getPermissionBilling.billing,expression:"getPermissionBilling.billing"}],staticClass:"view",attrs:{type:"checkbox",disabled:e.disablePermission||e.userSelf},domProps:{checked:Array.isArray(e.getPermissionBilling.billing)?e._i(e.getPermissionBilling.billing,null)>-1:e.getPermissionBilling.billing},on:{click:function(t){return e.setViewBilling()},change:function(t){var s=e.getPermissionBilling.billing,i=t.target,a=!!i.checked;if(Array.isArray(s)){var r=null,n=e._i(s,r);i.checked?n<0&&e.$set(e.getPermissionBilling,"billing",s.concat([r])):n>-1&&e.$set(e.getPermissionBilling,"billing",s.slice(0,n).concat(s.slice(n+1)))}else e.$set(e.getPermissionBilling,"billing",a)}}}),t("span",{staticClass:"check"})])])])])])])])]):e._e()]):e._e()},W=[function(){var e=this,t=e._self._c;return t("ul",{staticClass:"calls-pipe__table-header"},[t("li",{staticClass:"calls-pipe__header-item"}),t("li",{staticClass:"calls-pipe__header-item"},[e._v("View")]),t("li",{staticClass:"calls-pipe__header-item"},[e._v("Listen")]),t("li",{staticClass:"calls-pipe__header-item"},[e._v("Export")]),t("li",{staticClass:"calls-pipe__header-item"},[e._v("Billing")])])},function(){var e=this,t=e._self._c;return t("ul",{staticClass:"calls-pipe__table-header"},[t("li",{staticClass:"calls-pipe__header-item"},[e._v("Billing "),t("br"),e._v(" Reports")])])}],Y={name:"AgentSetup",data(){return{unsubscribe:()=>{},showOutNum:"",role:"",cdr:{view:!1,viewP:!1,listen:!1,listenP:!1,export:!1,exportP:!1,billing:!1,billingP:!1},showOptions:!0}},computed:{...(0,d.Se)(["userRole","getPermissionCDR","getPermissionBilling","userInfoVuex","userInfo"]),userSelf(){return parseInt(this.userInfo.internalNumber,10)===parseInt(this.userInfoVuex.internalNumber,10)},disablePermission(){return this.$store.state.displayConfig.displayConfig.createUser.permissionsDisabled.includes(this.userRole)}},methods:{changeCDR(e,t){switch(this.cdr[e]=!this.cdr[e],e.includes("P")||(this.cdr[e+"P"]=!1),t){case"view":this.$store.dispatch("setPermissionCDR",{param:"view",value:this.cdr.view?"all":this.cdr.viewP?"personal":null});break;case"listen":this.$store.dispatch("setPermissionCDR",{param:"listen",value:this.cdr.listen?"all":this.cdr.listenP?"personal":null});break;case"export":this.$store.dispatch("setPermissionCDR",{param:"export",value:this.cdr.export?"all":this.cdr.exportP?"personal":null});break;case"billing":this.$store.dispatch("setPermissionCDR",{param:"billing",value:this.cdr.billing?"all":this.cdr.billingP?"personal":null});break;default:break}},setViewBilling(){this.$store.dispatch("setViewBillingReports",!this.getPermissionBilling.billing)},getPermissions(){this.role=this.userRole,"all"===this.getPermissionCDR?.view?(this.cdr.view=!0,this.cdr.viewP=!0):"personal"===this.getPermissionCDR?.view?(this.cdr.view=!1,this.cdr.viewP=!0):(this.cdr.view=!1,this.cdr.viewP=!1),"all"===this.getPermissionCDR?.listen?(this.cdr.listen=!0,this.cdr.listenP=!0):"personal"===this.getPermissionCDR?.listen?(this.cdr.listen=!1,this.cdr.listenP=!0):(this.cdr.listen=!1,this.cdr.listenP=!1),"all"===this.getPermissionCDR?.export?(this.cdr.export=!0,this.cdr.exportP=!0):"personal"===this.getPermissionCDR?.export?(this.cdr.export=!1,this.cdr.exportP=!0):(this.cdr.export=!1,this.cdr.exportP=!1),"all"===this.getPermissionCDR?.billing?(this.cdr.billing=!0,this.cdr.billingP=!0):"personal"===this.getPermissionCDR?.billing?(this.cdr.billing=!1,this.cdr.billingP=!0):(this.cdr.billing=!1,this.cdr.billingP=!1)}},mounted(){this.getPermissions(),this.unsubscribe=this.$store.subscribe((e=>{"setUserInfo"===e.type&&this.getPermissions()}))},beforeDestroy(){this.unsubscribe()}},X=Y,z=(0,b.Z)(X,K,W,!1,null,"5684afd5",null),ee=z.exports,te={name:"ManagerSettings",components:{Departments:j,AvailableQueues:E,Permission:ee},data(){return{showOptions:!0}},computed:{...(0,d.Se)(["userRole"])}},se=te,ie=(0,b.Z)(se,$,O,!1,null,"7606f19a",null),ae=ie.exports,re=function(){var e=this,t=e._self._c;return t("div",{staticClass:"wrap-queues-setting"},[t("div",{staticClass:"wrap-head"},[t("h2",{staticClass:"wrap-head-title"},[e._v("QUEUES SETTINGS")]),t("svg",{staticClass:"arrow",class:{down:e.showOptions},attrs:{viewBox:"0 0 10 18",fill:"transparent",xmlns:"http://www.w3.org/2000/svg"},on:{click:e.displayOptions}},[t("path",{attrs:{d:"M9 1L1 9L9 17","stroke-width":"2",stroke:"var(--light-blue)","stroke-linecap":"round","stroke-linejoin":"round"}})]),t("span",{staticClass:"hr"})]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.showOptions,expression:"showOptions"}],staticClass:"wrap-body"},[t("div",{staticClass:"table-container"},[t("div",{staticClass:"available"},[t("div",{staticClass:"table-title"},[e._v("Available Queues")]),t("div",[t("ul",{staticClass:"table-header"},[t("li",{on:{click:function(t){return e.sortFunc("name","relatedQueues","getRelatedQueuesName")}}},[e._v(" Name of Queue "),t("img",{ref:"getRelatedQueuesName",attrs:{src:s(71614)}})]),t("li",{on:{click:function(t){return e.sortFunc("internalNumber","relatedQueues","getRelatedQueuesNumber")}}},[e._v(" Queue Number "),t("img",{ref:"getRelatedQueuesNumber",attrs:{src:s(71614)}})]),t("li",{staticClass:"agent-length-title",on:{click:function(t){return e.sortFunc("userCount","relatedQueues","getRelatedQueuesAgents")}}},[e._v(" Agents in Queue "),t("img",{ref:"getRelatedQueuesAgents",attrs:{src:s(71614)}})]),t("li",[e.relatedQueues.length!==e.selectedQueues.length?t("img",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"top",arrow:!0,delay:800,duration:500},expression:"{ placement : 'top',  arrow: true, delay : 800, duration: 500 }"},{name:"show",rawName:"v-show",value:e.relatedQueues.length,expression:"relatedQueues.length"}],staticClass:"select-all-btn",attrs:{content:"Select all",width:"23",src:s(27666),alt:"icon-to"},on:{click:function(t){return e.dispatchSelectedQueues(e.selectAllQ)}}}):e._e()])]),t("div",{staticClass:"table-content",on:{scroll:function(t){return e.funScroll(t)}}},e._l(e.relatedQueues,(function(i){return t("ul",{key:i.uid,staticClass:"list-group queue",class:{selected:e.userQueues&&e.userQueues.filter((e=>e.uid===i.uid)).length}},[t("li",{staticClass:"queue-name"},[e._v(e._s(i.name))]),t("li",{staticClass:"queue-int-num"},[e._v(" "+e._s(i.internalNumber))]),t("li",{staticClass:"queue-user-uid"},[e._v(e._s(i.userCount))]),t("li",{staticClass:"container-icon-to",on:{click:function(t){return e.dispatchSelectedQueues(e.selectQ,i)}}},[t("img",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"top",arrow:!0,delay:800,duration:500},expression:"{ placement : 'top',  arrow: true, delay : 800, duration: 500 }"}],staticClass:"select-btn",attrs:{content:"Select item",width:"23",src:s(90145),alt:"icon-to"}})])])})),0)])]),t("div",{staticClass:"switcher"},[t("svg",{attrs:{width:"66",height:"66",viewBox:"0 0 66 66",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[t("path",{attrs:{d:"M65 17.0005C65 14.7914 63.2092 13.0006 61.0001 13.0006H15.1797L20.5496 7.82879C22.1693 6.26484 22.1693 3.73691 20.5496 2.17296C18.9257 0.609012 16.2968 0.609012 14.6771 2.17296L2.21789 14.1726C0.594037 15.7365 0.594037 18.2645 2.21789 19.8284L14.6771 31.828C15.487 32.608 16.5502 33 17.6134 33C18.6765 33 19.7397 32.608 20.5496 31.828C22.1693 30.2641 22.1693 27.7362 20.5496 26.1722L15.1797 21.0004H61.0001C63.2092 21.0004 65 19.2096 65 17.0005Z",fill:"white","fill-opacity":"0.1"}}),t("path",{attrs:{d:"M51.3229 34.173C49.699 32.609 47.0743 32.609 45.4504 34.173C43.8266 35.7369 43.8266 38.2648 45.4504 39.8288L50.8203 45.0006H4.99988C2.79081 45.0006 1 46.7914 1 49.0005C1 51.2096 2.79081 53.0004 4.99988 53.0004H50.8203L45.4504 58.1722C43.8266 59.7362 43.8266 62.2641 45.4504 63.828C46.2603 64.608 47.3234 65 48.3866 65C49.4498 65 50.513 64.608 51.3229 63.828L63.7821 51.8284C65.406 50.2645 65.406 47.7365 63.7821 46.1726L51.3229 34.173Z",fill:"white","fill-opacity":"0.1"}}),t("path",{staticClass:"stroke-arrow",attrs:{d:"M65 17.0005C65 14.7914 63.2092 13.0006 61.0001 13.0006H15.1797L20.5496 7.82879C22.1693 6.26484 22.1693 3.73691 20.5496 2.17296C18.9257 0.609012 16.2968 0.609012 14.6771 2.17296L2.21789 14.1726C0.594037 15.7365 0.594037 18.2645 2.21789 19.8284L14.6771 31.828C15.487 32.608 16.5502 33 17.6134 33C18.6765 33 19.7397 32.608 20.5496 31.828C22.1693 30.2641 22.1693 27.7362 20.5496 26.1722L15.1797 21.0004H61.0001C63.2092 21.0004 65 19.2096 65 17.0005Z","stroke-width":"2"}}),t("path",{staticClass:"stroke-arrow",attrs:{d:"M51.3229 34.173C49.699 32.609 47.0743 32.609 45.4504 34.173C43.8266 35.7369 43.8266 38.2648 45.4504 39.8288L50.8203 45.0006H4.99988C2.79081 45.0006 1 46.7914 1 49.0005C1 51.2096 2.79081 53.0004 4.99988 53.0004H50.8203L45.4504 58.1722C43.8266 59.7362 43.8266 62.2641 45.4504 63.828C46.2603 64.608 47.3234 65 48.3866 65C49.4498 65 50.513 64.608 51.3229 63.828L63.7821 51.8284C65.406 50.2645 65.406 47.7365 63.7821 46.1726L51.3229 34.173Z","stroke-width":"2"}})])]),t("div",{staticClass:"selected"},[t("div",[t("div",{staticClass:"table-title"},[e._v("Selected Queues")]),t("div",[t("ul",{staticClass:"table-header"},[t("li",{on:{click:function(t){return e.sortFunc("name","selectedQueues","getSelectedQueuesName")}}},[e._v(" Name of Queue "),t("img",{ref:"getSelectedQueuesName",attrs:{src:s(71614)}})]),t("li",{on:{click:function(t){return e.sortFunc("internalNumber","selectedQueues","getSelectedQueuesNumber")}}},[e._v(" Queue Number "),t("img",{ref:"getSelectedQueuesNumber",attrs:{src:s(71614)}})]),t("li",{staticClass:"agent-length-title",on:{click:function(t){return e.sortFunc("userCount","selectedQueues","getSelectedQueuesAgents")}}},[e._v(" Agents in Queue "),t("img",{ref:"getSelectedQueuesAgents",attrs:{src:s(71614)}})]),t("li",[t("img",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"top",arrow:!0,delay:800,duration:500},expression:"{ placement : 'top',  arrow: true, delay : 800, duration: 500 }"}],staticClass:"select-all-btn",attrs:{content:"Remove all",width:"23",src:s(72500),alt:"table-icon-from"},on:{click:function(t){return e.dispatchSelectedQueues(e.removeAllQ)}}})])]),t("div",{staticClass:"table-content"},e._l(e.selectedQueues,(function(i,a){return t("ul",{key:i.uid+a,staticClass:"list-group"},[t("li",{staticClass:"queue-name"},[e._v(e._s(i.name))]),t("li",{staticClass:"queue-int-num"},[e._v(e._s(i.internalNumber))]),t("li",{staticClass:"queue-user-uid"},[e._v(e._s(i.userCount))]),t("li",{staticClass:"container-icon-to",on:{click:function(t){return e.dispatchSelectedQueues(e.deleteQ,i)}}},[t("img",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"top",arrow:!0,delay:800,duration:500},expression:"{ placement : 'top',  arrow: true, delay : 800, duration: 500 }"}],staticClass:"select-btn",attrs:{content:"Remove item",width:"23",src:s(95410),alt:"table-icon-from"}})])])})),0)])])])])])])},ne=[],le={name:"QSettings",data(){return{relatedQueues:[],selectedQueues:[],unsubscribe:()=>{},showOptions:!0,sort:{number:!0,user:!0,agents:!0},order:{selectedQueues:{name:"asc",internalNumber:"asc",userCount:"asc"},relatedQueues:{name:"desc",internalNumber:"desc",userCount:"desc"}},activeSort:"internalNumber",perPage:9,selectAllBool:!1}},watch:{getGlobalQueuesList(){this.relatedQueues=JSON.parse(JSON.stringify(this.getGlobalQueuesList)),this.selectAllBool=!1}},computed:{...(0,d.Se)(["userQueues","userInfoVuex","getGlobalQueuesList","getPaginatorQueues"])},methods:{funScroll({target:e}){e.clientHeight+e.scrollTop===e.scrollHeight&&this.getPaginatorQueues.paginator.count>this.perPage&&(this.perPage+=9,this.fetch(this.perPage,this.activeSort,"desc"===this.order.relatedQueues[this.activeSort]?"asc":"desc"))},fetch(e,t,s){this.$store.dispatch("setGlobalQueuesList",{peerPage:e,sort:t,order:s})},sortFunc(e,t,s){if("relatedQueues"===t){const i=(0,B.c)(this.fetch,this.$refs[s],this.order[t][e],this.perPage,e);this.order[t][e]=i.order,this.$refs[s]=i.refArrow,this.activeSort=e}else{const i=(0,B.k)(e,this[t],this.$refs[s],this.order[t][e]);this.order[t][e]=i.order,this.$refs[s]=i.refArrow}},selectQ(e){const{name:t,internalNumber:s,userCount:i,uid:a}=e;this.selectedQueues.includes(e)||(this.selectedQueues.push({name:t,internalNumber:s,userCount:i,uid:a}),this.getGlobalQueuesList.length-this.selectedQueues.length<9&&this.getGlobalQueuesList.length<this.getPaginatorQueues.paginator.count&&this.fetch(this.perPage+=9,this.activeSort,this.order.relatedQueues[this.activeSort]))},deleteQ(e){if(e){const t=[];this.userInfoVuex.relatedWith.queue.forEach((s=>{s.uid!==e.uid&&t.push(s)})),this.selectedQueues=t}},selectAllQ(){this.fetch(this.getPaginatorQueues.paginator.count,this.activeSort,this.order.relatedQueues[this.activeSort]);const e=this.getGlobalQueuesList.filter((e=>!this.userQueues.length||this.userQueues.some((t=>t.uid!==e.uid))));this.selectedQueues=[...e,...this.userQueues],this.selectAllBool=!0},removeAllQ(){this.selectedQueues=[]},dispatchSelectedQueues(e,t){e(t),this.defaultQueue()},displayOptions(){this.showOptions=!this.showOptions,this.defaultQueue()},defaultQueue(){this.selectedQueues=m().sortBy(this.selectedQueues,[function(e){return e.name}]),this.$store.dispatch("usersQueuesSelected",JSON.parse(JSON.stringify(this.selectedQueues)))}},mounted(){this.selectedQueues=JSON.parse(JSON.stringify(this.userQueues||[])),this.unsubscribe=this.$store.subscribe((e=>{"setUserInfo"===e.type&&(this.selectedQueues=JSON.parse(JSON.stringify(this.userQueues))),"addSelectedQueues"===e.type&&(this.selectedQueues=JSON.parse(JSON.stringify(this.userQueues)))})),this.fetch(this.perPage,this.activeSort,this.order.relatedQueues[this.activeSort])},beforeDestroy(){this.unsubscribe()}},oe=le,ce=(0,b.Z)(oe,re,ne,!1,null,"27b8ded6",null),ue=ce.exports,de=s(12246),pe=s(65468),he=s(72053),me=s(96458),fe=s(35211),ge=s(84673),Ce={name:"EditUser",components:{QSettings:ue,ManagerSettings:ae,AgentSetup:M,PersonalInfo:_,DeleteComponent:de.Z},data(){return{unsubscribe:()=>{},showApplyBtn:!1,textToDeleteComponent:"Are you sure you want to delete this User ?",titleToDeleteComponent:"Delete User"}},watch:{getGlobalDepartments(){this.$store.dispatch("departmentsRelated",this.getGlobalDepartments)},getGlobalQueuesList(){this.$store.dispatch("queuesRelated",this.getGlobalQueuesList)}},computed:{...(0,d.Se)(["userInfoVuex","userUid","userInfo","theme","getInitialUser","getDeleteUser","getGlobalDepartments","getGlobalQueuesList"])},methods:{del(){this.$store.dispatch("setDeleteUser",!0)},cancelDelete(){this.$store.dispatch("setDeleteUser",!1)},deleteUser(){pe.jI.deleteUser(sessionStorage.getItem("userUid")),this.$store.dispatch("setDeleteUser",!1)},handlerSubmit(){const e=JSON.parse(JSON.stringify(this.userInfoVuex)),t=(0,he.FB)(e),s=(0,ge.Z)(t);pe.jI.updateUser(s,this.userUid)},goBack(){this.$router.push(`/config/users/account-info/${this.userInfoVuex.internalNumber}`)}},beforeCreate(){if(!this.userUid){const e=sessionStorage.getItem("userUid");r.ik.viewUser(e)}},mounted(){this.$store.dispatch("setGlobalDepartmentsList",{peerPage:9}),this.$store.dispatch("setGlobalQueuesList",{peerPage:9}),r.ik.outboundDirection(),this.unsubscribe=me.Z.subscribe((e=>{fe.Z.user.includes(e.type)?(this.showApplyBtn=(0,he.Xy)(this.getInitialUser,this.userInfoVuex),this.$store.commit("writeChanges",e.type)):"setUserInfo"===e.type&&(this.showApplyBtn=!1,this.$store.commit("resetChanges"))}))},beforeDestroy(){this.unsubscribe(),this.$store.dispatch("setDeleteUser",!1),this.$store.dispatch("reset")}},ve=Ce,be=(0,b.Z)(ve,i,a,!1,null,null,null),we=be.exports},84673:function(e,t,s){s.d(t,{Z:function(){return a}});s(57658);var i=s(96458);function a(e){const t={},s=[];return i.Z.state.userInfo.changedFields.forEach((t=>{"string"===typeof i.Z.state.userInfo.fields[t]?s.push(i.Z.state.userInfo.fields[t]):i.Z.state.userInfo.fields[t].forEach((t=>{i.Z.getters.getInitialUser[t]!==e[t]&&s.push(t)}))})),s.forEach((s=>{null!==e[s]&&(t[s]=e[s])})),t}},83850:function(e,t,s){s(57658);var i=s(51579),a=s.n(i);t["Z"]={changeCountry(e,t,s,i){let r=t,n=s,l=[];if(e){const t=r.filter((t=>t[i]===e[i]));t.length?(r=r.filter((t=>t[i]!==e[i])),n.push(e)):(n=n.filter((t=>t[i]!==e[i])),r.push(e)),r=a().sortBy(r,[i]),n=a().sortBy(n,[i]),l=a().concat(r,n)}else n=l=a().concat(JSON.parse(JSON.stringify(r)),JSON.parse(JSON.stringify(n))),r=[];return{topList:r,bottomList:n,getCountries:l}}}},35211:function(e,t){t["Z"]={user:["pushField","addSelectedQueues","setDeps","setNewRole","setVNumber","userDepsManaged","userQueuesManaged","setPermissionCDRMutation","viewBillingReportsMutatution","editQueueMutation"],departments:["pushNameDepartment","pushAgentsDepartment","pushManagersDepartment","pushNumbersDepartment"],queues:["strategyMutation","timeoutMutation","ringinuseMutation","waitMutation","queueNameInfoMutation","strategyInfoMutaion","timeoutInfoMutation","ringInUseInfoMutation","maxWaitInfoMutation","agentsQueueInfoMutation","managersQueueInfoMutation","updateQueuesInListMutation"],numbers:["setNumbers","deleteNumber"],paginator:{CDR:["pageCDRMutation","peerPageCDRMutation"],departments:["setDepPage","setDepPerPage"],users:["setUserPage","setUserPerPage"],queues:["setQueuePage","setQueuePerPage"],numbers:["setNumPage","setNumPerPage"],depForNums:["setDepPage","setDepPerPage"],payments:["setPaymentsPage","setPaymentsPerPage"],charges:["setChargesPage","setChargesPerPage"],leftRoutes:["setLeftRoutesPage","setLeftRoutesPerPage"],rightRoutes:["setRightRoutesPage","setRightRoutesPerPage"]},scenarios:["itemScenariosMutation","deleteItemMutation","changeNameScenarioMutation","newScenarioMutation","isSwappedModeMutation","listScenariosMutationWithObservers","arrayUidsOfDeleteScenariosMutation","listScenariosMutationAfterChangeName","arrayOfScenariosWithChangedNameMutation"]}}}]);