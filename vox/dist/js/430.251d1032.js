"use strict";(self["webpackChunkVoxonics"]=self["webpackChunkVoxonics"]||[]).push([[430],{11107:function(e,t,s){s.d(t,{Z:function(){return c}});var i=function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"btn-container"},[t("button",{staticClass:"apply-btn",on:{click:function(t){return e.apply()}}},[e._v(e._s(e.text||"Apply Changes"))]),t("div",{staticClass:"clean-btn",on:{click:function(t){return e.discard()}}},[t("img",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"top",arrow:!0,delay:800,duration:500},expression:"{ placement : 'top',  arrow: true, delay : 800, duration: 500 }"}],attrs:{width:"24",height:"25",content:"Discard",src:s(62091),alt:"broom"}})])])},a=[],n={name:"ControlPanel",props:["show","apply","discard","text"],mounted(){document.addEventListener("keydown",(e=>{"s"===e.key&&(navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)&&this.show&&(e.preventDefault(),this.apply()),(navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)&&"z"===e.key&&this.discard()}),!1)}},r=n,l=s(1001),o=(0,l.Z)(r,i,a,!1,null,"0c4a9bee",null),c=o.exports},33816:function(e,t,s){s.d(t,{Z:function(){return c}});var i=function(){var e=this,t=e._self._c;return t("img",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"top",arrow:!0,delay:800,duration:e.duration,trigger:e.trigger},expression:"{ placement : 'top',  arrow: true, delay : 800, duration: duration, trigger: trigger }"}],ref:"copyRef",staticClass:"copy",attrs:{content:e.content,src:s(32795),alt:"copy"},on:{mouseleave:function(t){return e.mouseLeaveHandler()},click:function(t){return e.clickHandler()}}})},a=[],n={name:"CopyIcon",props:["copyHandler"],data(){return{content:"Copy",duration:500,trigger:"mouseenter focus"}},methods:{clickHandler(){this.content="Copied to clipboard",this.trigger="manual",this.$nextTick((()=>this.$refs["copyRef"]._tippy.show())),this.$emit("copyHandler")},mouseLeaveHandler(){this.$refs["copyRef"]._tippy.hide(),setTimeout((()=>{this.content="Copy",this.trigger="mouseenter focus"}),this.duration)}}},r=n,l=s(1001),o=(0,l.Z)(r,i,a,!1,null,"7009f3ee",null),c=o.exports},12246:function(e,t,s){s.d(t,{Z:function(){return c}});var i=function(){var e=this,t=e._self._c;return e.deleteInfo?t("div",{staticClass:"personal-info-wrap",style:{top:`${e.topProp}px`,height:`calc(100% - ${e.topProp}px)`}},[t("div",{staticClass:"delete-block"},[t("span",[t("div",{staticClass:"delete-top-block"},[e._m(0),t("div",{staticClass:"top-content-block"},[t("span",{staticClass:"top-title"},[e._v(e._s(e.titleProp))]),t("span",{staticClass:"top-content"},[e._v(e._s(e.textProp))])])]),t("div",{staticClass:"delete-btn-block"},[t("span",{staticClass:"cancel-btn",on:{click:function(t){return e.cancelDeleteItem()}}},[e._v("Cancel")]),t("span",{staticClass:"delete-btn",on:{click:function(t){return e.deleteItem()}}},[e._v("Delete ")])])])])]):e._e()},a=[function(){var e=this,t=e._self._c;return t("span",{staticClass:"delete-image"},[t("img",{attrs:{src:s(21920),alt:"delete"}})])}],n={name:"DeleteQueue",props:["deleteFunc","cancelDeleteFunc","deleteInfo","textProp","titleProp","topProp"],methods:{cancelDeleteItem(){this.$emit("cancelDeleteFunc")},deleteItem(){this.$emit("deleteFunc")}},mounted(){document.addEventListener("keydown",(e=>{"Enter"===e.key&&this.deleteInfo&&this.deleteItem(),"Escape"===e.key&&this.deleteInfo&&this.cancelDeleteItem()}))}},r=n,l=s(1001),o=(0,l.Z)(r,i,a,!1,null,"55a9bb86",null),c=o.exports},1370:function(e,t,s){s.r(t),s.d(t,{default:function(){return xe}});var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"wrap-main"},[t("div",{staticClass:"wrap-form account-wrap"},[t("div",{staticClass:"form",on:{submit:function(e){e.preventDefault()}}},[t("PersonalInfo"),e.userInfo?t("div",{staticClass:"bottom-field"},[e.popUp?t("div",{staticClass:"modal2"},[t("div",{staticClass:"delete-block"},[e._m(0),t("div",{staticClass:"delete-btn-block"},[t("span",{staticClass:"cancel-btn",on:{click:function(t){return e.cancel()}}},[e._v("Cancel")]),t("span",{staticClass:"delete-btn",on:{click:function(t){return e.accept()}}},[e._v("Change ")])])])]):e._e(),"agent"!==e.userInfo.permission.role?t("div",{staticClass:"tabs"},[t("div",{staticClass:"left-tabs"},[t("div",{staticClass:"tab",class:{active:"permission"===e.showOptions},on:{click:function(t){return e.setShowOptions("permission")}}},[e._v(" Permissions ")]),t("div",{staticClass:"tab",class:{active:"department"===e.showOptions},on:{click:function(t){return e.setShowOptions("department")}}},[e._v(" Departments ")]),t("div",{staticClass:"tab queues",class:{active:"queue-using"===e.showOptions||"queue-managing"===e.showOptions},on:{click:function(t){return e.setShowOptions("queue-using")}}},[e._v("Queues "),t("ul",{directives:[{name:"show",rawName:"v-show",value:"queue-using"===e.showOptions||"queue-managing"===e.showOptions,expression:"showOptions === 'queue-using' || showOptions === 'queue-managing'"}],staticClass:"secondary-list"},[t("li",{staticClass:"secondary-list__item",class:{"active-secondary-item":"queue-using"===e.showOptions},on:{click:function(t){return t.stopPropagation(),e.setShowOptions("queue-using")}}},[e._v("Using ")]),"agent"!==e.userInfoVuex.permission.role?t("li",{staticClass:"secondary-list__item",class:{"active-secondary-item":"queue-managing"===e.showOptions},on:{click:function(t){return t.stopPropagation(),e.setShowOptions("queue-managing")}}},[e._v("Managing ")]):e._e()])]),t("div",{staticClass:"tab",class:{active:"outbound-routing"===e.showOptions},on:{click:function(t){return e.setShowOptions("outbound-routing")}}},[e._v(" Outbound Routing ")]),t("div",{staticClass:"tab",on:{click:e.switchMode}},[e._v("Settings overview")])]),t("div",{staticClass:"right-tabs"},[t("ControlPanel",{attrs:{show:e.showApplyBtn,apply:e.handlerSubmit,discard:e.clearUser}})],1)]):e._e(),e.userInfo.permission?t("div",{staticClass:"body"},["agent"===e.userInfo.permission.role?[t("AgentRelatedWith")]:"permission"===e.showOptions?[t("Permission")]:"queue-using"===e.showOptions?[t("QSettings")]:"queue-managing"===e.showOptions?[t("QManaging")]:"outbound-routing"===e.showOptions?[t("OutboundRouting")]:"department"===e.showOptions?[t("Departments")]:e._e()],2):e._e()]):e._e()],1)])])},a=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"delete-top-block"},[t("span",{staticClass:"delete-image"},[e._v(" ? ")]),t("div",{staticClass:"top-content-block"},[t("span",{staticClass:"top-title"},[e._v("Change role?")]),t("span",{staticClass:"top-content"},[e._v('Changing users "Role" might affect his permissions and other settings, are you sure you want to change the "Role"?')])])])}],n=(s(57658),function(){var e=this,t=e._self._c;return t("div",{staticClass:"personal-info-wrap",class:{"non-pointer-events":"agent"===e.roleAgent}},[t("div",{staticClass:"wrap-body"},[t("span",{staticClass:"file-loader-span"},[t("FileLoader",{attrs:{userUidProp:!0}})],1),t("div",{staticClass:"personal-info account-info"},[t("div",{staticClass:"personal-info__first-part"},[t("div",{staticClass:"item-container with-err"},[t("label",[e._v(" Name* "),t("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.userInfo.name,expression:"userInfo.name",modifiers:{trim:!0}}],staticClass:"input-field",class:{error:!e.userInfo.name.length},attrs:{placeholder:"Enter user name",maxlength:"16"},domProps:{value:e.userInfo.name},on:{input:[function(t){t.target.composing||e.$set(e.userInfo,"name",t.target.value.trim())},function(t){e.changeUserInfo({name:e.userInfo.name}),e.checkName()}],blur:function(t){return e.$forceUpdate()}}})]),e.errors.name?t("div",{staticClass:"alert"},[e._v(e._s(e.errors.name))]):e._e()]),t("div",{staticClass:"item-container with-err"},[t("label",[e._v("Phone "),t("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.userInfo.phone,expression:"userInfo.phone",modifiers:{trim:!0}}],staticClass:"input-field",attrs:{placeholder:"Only digits",type:"text",maxlength:"15"},domProps:{value:e.userInfo.phone},on:{input:[function(t){t.target.composing||e.$set(e.userInfo,"phone",t.target.value.trim())},function(t){e.changeUserInfo({phone:e.userInfo.phone||null}),e.checkPhone()}],blur:function(t){return e.$forceUpdate()}}})]),e.errors.phone?t("div",{staticClass:"alert"},[e._v(e._s(e.errors.phone))]):e._e()]),t("div",{staticClass:"item-container"},[t("label",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.hide,expression:"hide"}],ref:"list",staticClass:"options-label"},[e._v("Location: "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.userInfo.location,expression:"userInfo.location"}],staticClass:"input-field num",attrs:{type:"text",placeholder:"London, UK",maxlength:"16"},domProps:{value:e.userInfo.location},on:{input:[function(t){t.target.composing||e.$set(e.userInfo,"location",t.target.value)},function(t){return e.search(t.target.value)}]}}),t("span",{staticClass:"triangle",class:{"rotate-arrow":"location"===e.showList},on:{click:function(t){return e.setParam("showList","location","location")}}},[t("img",{attrs:{src:s(97646),alt:"select"}})]),t("DropdownList",{directives:[{name:"show",rawName:"v-show",value:"location"===e.showList,expression:"showList === 'location'"}],attrs:{dataList:e.getGlobalLocations,clickFuncAll:null,classNameList:"list-related-numbers",itemText:e=>e.location,classNameItemComputed:t=>e.userInfoVuex.location===t.location?"selected":""},on:{clickFunc:t=>{e.setParam("userInfo.location",t.location),e.changeUserInfo({location:e.userInfo.location||null})},scrollFunc:t=>e.funScroll(t)}})],1)]),t("div",{staticClass:"item-container with-err"},[t("label",[e._v("Agent Number (id)* "),t("input",{directives:[{name:"facade",rawName:"v-facade",value:"###",expression:"'###'"},{name:"model",rawName:"v-model.trim",value:e.userInfo.internalNumber,expression:"userInfo.internalNumber",modifiers:{trim:!0}}],staticClass:"input-field",class:{error:e.errors.internalNumber},attrs:{placeholder:"000",type:"text",maxlength:"3"},domProps:{value:e.userInfo.internalNumber},on:{input:[function(t){t.target.composing||e.$set(e.userInfo,"internalNumber",t.target.value.trim())},function(t){e.changeUserInfo({internalNumber:e.userInfo.internalNumber}),e.checkInternalNumber()}],blur:function(t){return e.$forceUpdate()}}})]),e.errors.internalNumber?t("div",{staticClass:"alert"},[e._v(" "+e._s(e.errors.internalNumber)+" ")]):e._e()]),t("div",{staticClass:"item-container with-err"},[t("label",[e._v("Email "),t("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.userInfo.email,expression:"userInfo.email",modifiers:{trim:!0}}],staticClass:"input-field",attrs:{placeholder:"example@voxonics.com",type:"email",maxlength:"36"},domProps:{value:e.userInfo.email},on:{input:[function(t){t.target.composing||e.$set(e.userInfo,"email",t.target.value.trim())},function(t){e.changeUserInfo({email:e.userInfo.email||null}),e.checkEmail()}],blur:function(t){return e.$forceUpdate()}}})]),e.errors.email?t("div",{staticClass:"alert"},[e._v(e._s(e.errors.email))]):e._e()]),t("div",{staticClass:"personal-info__second-part"},[t("div",{staticClass:"item-container"},[t("label",[e._v("Position "),t("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.userInfo.position,expression:"userInfo.position",modifiers:{trim:!0}}],staticClass:"input-field",attrs:{placeholder:"Sales Manager",type:"text",maxlength:"16"},domProps:{value:e.userInfo.position},on:{input:[function(t){t.target.composing||e.$set(e.userInfo,"position",t.target.value.trim())},function(t){return e.changeUserInfo({position:e.userInfo.position||null})}],blur:function(t){return e.$forceUpdate()}}})])])]),t("div",{staticClass:"hr"})])])])])}),r=[],l=s(42225),o=s(39132),c=s(45014),u=s(90408),d=s(13776),p=s(96458),h=s(51579),m=s.n(h),g=s(65233),f=s.n(g),v={name:"PersonalInfo",components:{FileLoader:l.Z,DropdownList:o.Z},data(){return{unsubscribe:()=>{},userInfo:{name:"",phone:"",location:"",position:"",email:"",internalNumber:""},errors:{name:"",phone:"",email:"",internalNumber:"",password:"",confirm:""},count:10,showList:"",perPage:9,timer:null}},computed:{...(0,u.Se)(["userInfoVuex","userInfoComponent","roleAgent","getGlobalLocations"])},methods:{funScroll({target:e}){e.clientHeight+e.scrollTop===e.scrollHeight&&this.count>this.perPage&&(this.perPage+=9,this.fetch("location",this.perPage,this.userInfo.location))},search(e){clearTimeout(this.timer),this.timer=setTimeout((()=>this.fetch("location",this.perPage,e)),800)},checkName(){c.Z.checkName(this)},checkPhone(){c.Z.checkPhone(this)},checkEmail(){c.Z.checkEmail(this)},checkInternalNumber(){const e=window.location.href.split("/").pop();c.Z.checkInternalNumber(this,e)},checkPassword(){c.Z.checkPassword(this)},confirmPassword(){c.Z.confirmPassword(this)},fetch(e,t,s){switch(this.$store.dispatch("setSpinner",!0),e){case"location":return d.Z.getLocation(t,s).then((e=>(this.count=e.paginator.count,e.data)));default:break}},setParam(e,t,s){m().get(this,e)===t?m().set(this,e,""):m().set(this,e,t),s&&this.fetch(s,this.perPage,this.userInfo.location)},changeUserInfo(e){this.showList="","agent"!==this.userInfoComponent.permission.role&&(this.checkInternalNumber(),this.$store.dispatch("changeUserInfo",e))},hide(){this.showList=""}},mounted(){if("agent"!==this.roleAgent){for(const e in this.userInfoVuex)this.userInfo[e]=this.userInfoVuex[e];this.unsubscribe=p.Z.subscribe((e=>{if("setUserInfo"===e.type)for(const t in this.userInfoVuex)this.userInfo[t]=this.userInfoVuex[t]}))}else for(const e in this.userInfoComponent)this.userInfo[e]=this.userInfoComponent[e]},beforeDestroy(){this.unsubscribe()},directives:{ClickOutside:f()}},w=v,b=s(1001),C=(0,b.Z)(w,n,r,!1,null,"6211cd2f",null),y=C.exports,_=function(){var e=this,t=e._self._c;return t("div",{staticClass:"wrap-agent-setup"},[t("div",{staticClass:"wrap-body"},[t("div",{staticClass:"agent-setup__second-part"},[t("div",{staticClass:"item-container"},[e.role.length?t("label",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.hideRoleList,expression:"hideRoleList"}],ref:"select",staticClass:"options-label"},[t("span",{staticClass:"options-title"},[e._v("Role")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.role,expression:"role"}],staticClass:"input-field num",attrs:{type:"text",readonly:""},domProps:{value:e.role},on:{input:function(t){t.target.composing||(e.role=t.target.value)}}}),e.disableRole||e.userInfo.internalNumber==e.userInfoVuex.internalNumber?e._e():t("span",{staticClass:"triangle",class:{"rotate-arrow":e.showRole},on:{click:function(t){e.toggleVisible(!e.showOutNum,"showOutNum"),e.showRole=!e.showRole}}},[t("img",{attrs:{src:s(17406),alt:"select"}})]),t("DropdownList",{directives:[{name:"show",rawName:"v-show",value:e.showRole&&e.userInfo.internalNumber!==e.userInfoVuex.internalNumber,expression:"showRole && userInfo.internalNumber !== userInfoVuex.internalNumber"}],attrs:{dataList:e.listOfRoles,itemText:e=>e,clickFuncAll:null,classNameList:"list-related-numbers",classNameItemComputed:()=>""},on:{clickFunc:t=>{e.selectRole(t)},scrollFunc:()=>{}}})],1):e._e()]),t("div",{staticClass:"password"},[t("label",[t("span",{staticClass:"options-label"},[e._v("SIP password")]),t("input",{ref:"secret",staticClass:"input-field sip-password",attrs:{type:"text",readonly:""},domProps:{value:e.getSecret}})]),t("CopyIcon",{on:{copyHandler:function(t){return e.copy()}}})],1)]),e.getPermissionCDR?t("div",{staticClass:"wrap-tables"},[t("div",{staticClass:"calls-pipe__block"},[t("div",{staticClass:"calls-pipe__title"},[e._v("Calls History")]),e._m(0),t("ul",{staticClass:"calls-pipe__table-block"},[t("ul",{staticClass:"table-content"},[t("li",{staticClass:"table-content__item"},[e._v("All")]),t("li",{staticClass:"table-content__item"},[t("label",{staticClass:"table-content__label"},[t("input",{staticClass:"view",attrs:{type:"checkbox",disabled:e.userSelf||e.cdr.listen||e.cdr.export||e.cdr.billing||e.disablePermission},domProps:{checked:e.cdr.view||e.cdr.listen||e.cdr.export||e.cdr.billing},on:{click:function(t){return e.changeCDR("view","view")}}}),t("span",{staticClass:"check"})])]),t("li",{staticClass:"table-content__item"},[t("label",{staticClass:"table-content__label"},[t("input",{staticClass:"transfer",attrs:{type:"checkbox",disabled:e.userSelf||e.disablePermission},domProps:{checked:e.cdr.listen},on:{click:function(t){return e.changeCDR("listen","listen")}}}),t("span",{staticClass:"check"})])]),t("li",{staticClass:"table-content__item"},[t("label",{staticClass:"table-content__label"},[t("input",{staticClass:"reject",attrs:{type:"checkbox",disabled:e.userSelf||e.disablePermission},domProps:{checked:e.cdr.export},on:{click:function(t){return e.changeCDR("export","export")}}}),t("span",{staticClass:"check"})])]),t("li",{staticClass:"table-content__item"},[t("label",{staticClass:"table-content__label"},[t("input",{staticClass:"hangup",attrs:{type:"checkbox",disabled:e.userSelf||e.disablePermission},domProps:{checked:e.cdr.billing},on:{click:function(t){return e.changeCDR("billing","billing")}}}),t("span",{staticClass:"check"})])])]),t("ul",{staticClass:"table-content"},[t("li",{staticClass:"table-content__item"},[e._v("Personal")]),t("li",{staticClass:"table-content__item"},[t("label",{staticClass:"table-content__label"},[t("input",{staticClass:"personal-view",attrs:{type:"checkbox",disabled:e.userSelf||e.disablePermission||e.cdr.view||e.cdr.listen||e.cdr.export||e.cdr.billing||e.cdr.billingP||e.cdr.listenP||e.cdr.exportP||e.cdr.billingP},domProps:{checked:e.cdr.viewP||e.cdr.view||e.cdr.listen||e.cdr.export||e.cdr.billingP||e.cdr.viewP||e.cdr.listenP||e.cdr.exportP||e.cdr.billingP},on:{click:function(t){return e.changeCDR("viewP","view")}}}),t("span",{staticClass:"check"})])]),t("li",{staticClass:"table-content__item"},[t("label",{staticClass:"table-content__label"},[t("input",{staticClass:"personal-transfer",attrs:{type:"checkbox",disabled:e.userSelf||e.disablePermission||e.cdr.listen},domProps:{checked:e.cdr.listenP||e.cdr.listen},on:{click:function(t){return e.changeCDR("listenP","listen")}}}),t("span",{staticClass:"check"})])]),t("li",{staticClass:"table-content__item"},[t("label",{staticClass:"table-content__label"},[t("input",{staticClass:"personal-transfer",attrs:{type:"checkbox",disabled:e.userSelf||e.disablePermission||e.cdr.export},domProps:{checked:e.cdr.exportP||e.cdr.export},on:{click:function(t){return e.changeCDR("exportP","export")}}}),t("span",{staticClass:"check"})])]),t("li",{staticClass:"table-content__item"},[t("label",{staticClass:"table-content__label"},[t("input",{staticClass:"personal-transfer",attrs:{type:"checkbox",disabled:e.userSelf||e.disablePermission||e.cdr.billing},domProps:{checked:e.cdr.billingP||e.cdr.billing},on:{click:function(t){return e.changeCDR("billingP","billing")}}}),t("span",{staticClass:"check"})])])])])]),e.getPermissionBilling?t("div",{staticClass:"wrap-tables bottom-wrap"},[t("div",{staticClass:"calls-pipe__block billing"},[t("div",{staticClass:"calls-pipe__title"},[e._v("Billing")]),e._m(1),t("ul",{staticClass:"calls-pipe__table-block"},[t("ul",{staticClass:"table-content"},[t("li",{staticClass:"table-content__item"},[t("label",{staticClass:"table-content__label"},[t("input",{staticClass:"view",attrs:{type:"checkbox",disabled:e.userSelf||e.disablePermission},domProps:{checked:e.getPermissionBilling.billing},on:{click:function(t){return e.setBillingReports()}}}),t("span",{staticClass:"check"})])])])])])]):e._e()]):e._e()])])},N=[function(){var e=this,t=e._self._c;return t("ul",{staticClass:"calls-pipe__table-header"},[t("li",{staticClass:"calls-pipe__header-item"}),t("li",{staticClass:"calls-pipe__header-item"},[e._v("View")]),t("li",{staticClass:"calls-pipe__header-item"},[e._v("Listen")]),t("li",{staticClass:"calls-pipe__header-item"},[e._v("Export")]),t("li",{staticClass:"calls-pipe__header-item"},[e._v("Billing")])])},function(){var e=this,t=e._self._c;return t("ul",{staticClass:"calls-pipe__table-header"},[t("li",{staticClass:"calls-pipe__header-item"},[e._v("Billing "),t("br"),e._v(" Reports")])])}],x=s(68956),k=s.n(x),R=s(33816),L={name:"AgentSetup",components:{DropdownList:o.Z,CopyIcon:R.Z},data(){return{unsubscribe:()=>{},showRole:!1,showOutNum:"",role:"",cdr:{view:!1,viewP:!1,listen:!1,listenP:!1,export:!1,exportP:!1,billing:!1,billingP:!1}}},computed:{...(0,u.Se)(["userRole","getSecret","userInfoVuex","getPermissionCDR","getPermissionBilling","roleAgent","userInfo"]),userSelf(){return parseInt(this.userInfo.internalNumber,10)===parseInt(this.userInfoVuex.internalNumber,10)},listOfRoles(){return this.$store.state.displayConfig.displayConfig.createUser.agentSetup.listRoles},disableRole(){return this.$store.state.displayConfig.displayConfig.createUser.agentSetup.disableRoles.includes(this.userRole)},disablePermission(){return this.$store.state.displayConfig.displayConfig.createUser.permissionsDisabled.includes(this.userRole)}},methods:{copy(){this.$refs.secret.select(),document.execCommand("copy")},changeCDR(e,t){if(parseInt(this.userInfo.internalNumber,10)===parseInt(this.userInfoVuex.internalNumber,10))return!1;switch(this.cdr[e]=!this.cdr[e],e.includes("P")||(this.cdr[e+"P"]=!1),t){case"view":this.$store.dispatch("setPermissionCDR",{param:"view",value:this.cdr.view?"all":this.cdr.viewP?"personal":null});break;case"listen":this.$store.dispatch("setPermissionCDR",{param:"listen",value:this.cdr.listen?"all":this.cdr.listenP?"personal":null});break;case"export":this.$store.dispatch("setPermissionCDR",{param:"export",value:this.cdr.export?"all":this.cdr.exportP?"personal":null});break;case"billing":this.$store.dispatch("setPermissionCDR",{param:"billing",value:this.cdr.billing?"all":this.cdr.billingP?"personal":null});break;default:break}},hideRoleList(){this.showRole=!1},setBillingReports(){this.$store.dispatch("setViewBillingReports",!this.getPermissionBilling.billing)},selectRole(e){this.role=e;const t=e.toLowerCase();this.$store.dispatch("changeRole",t),this.showOutNum=!1,this.showRole=!1},toggleVisible(e,t){this[t]=e},getPermissions(){this.role=this.userRole,"all"===this.getPermissionCDR?.view?(this.cdr.view=!0,this.cdr.viewP=!0):"personal"===this.getPermissionCDR?.view?(this.cdr.view=!1,this.cdr.viewP=!0):(this.cdr.view=!1,this.cdr.viewP=!1),"all"===this.getPermissionCDR?.listen?(this.cdr.listen=!0,this.cdr.listenP=!0):"personal"===this.getPermissionCDR?.listen?(this.cdr.listen=!1,this.cdr.listenP=!0):(this.cdr.listen=!1,this.cdr.listenP=!1),"all"===this.getPermissionCDR?.export?(this.cdr.export=!0,this.cdr.exportP=!0):"personal"===this.getPermissionCDR?.export?(this.cdr.export=!1,this.cdr.exportP=!0):(this.cdr.export=!1,this.cdr.exportP=!1),"all"===this.getPermissionCDR?.billing?(this.cdr.billing=!0,this.cdr.billingP=!0):"personal"===this.getPermissionCDR?.billing?(this.cdr.billing=!1,this.cdr.billingP=!0):(this.cdr.billing=!1,this.cdr.billingP=!1)}},mounted(){this.getPermissions(),this.unsubscribe=this.$store.subscribe((e=>{"setUserInfo"===e.type&&this.getPermissions()})),this.popupItem=this.$refs.select},beforeDestroy(){this.unsubscribe()},directives:{ClickOutside:k()}},P=L,D=(0,b.Z)(P,_,N,!1,null,"3ef9f9b6",null),S=D.exports,I=function(){var e=this,t=e._self._c;return t("div",{staticClass:"wrap-queues-setting"},[t("div",{staticClass:"wrap-body"},[t("div",{staticClass:"table-container"},[t("div",{staticClass:"available"},[t("div",{staticClass:"table-title"},[e._v("Available Queues")]),t("div",[t("ul",{staticClass:"table-header"},[t("li",{on:{click:function(t){return e.sortFunc("name","getGlobalQueuesList","getRelatedQueuesName")}}},[e._v(" Name of Queue "),t("img",{ref:"getRelatedQueuesName",attrs:{src:s(71614)}})]),t("li",{on:{click:function(t){return e.sortFunc("internalNumber","getGlobalQueuesList","getRelatedQueuesNumber")}}},[e._v(" Queue Number "),t("img",{ref:"getRelatedQueuesNumber",attrs:{src:s(71614)}})]),t("li",{staticClass:"agent-length-title",on:{click:function(t){return e.sortFunc("userCount","getGlobalQueuesList","getRelatedQueuesAgents")}}},[e._v(" Agents in Queue "),t("img",{ref:"getRelatedQueuesAgents",attrs:{src:s(71614)}})]),t("li",[e.getGlobalQueuesList.length!==e.selectedQueues.length?t("img",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"top",arrow:!0,delay:800,duration:500},expression:"{ placement : 'top',  arrow: true, delay : 800, duration: 500 }"},{name:"show",rawName:"v-show",value:e.getGlobalQueuesList.length,expression:"getGlobalQueuesList.length"}],staticClass:"select-all-btn",attrs:{content:"Select all",width:"23",src:s(27666),alt:"icon-to"},on:{click:function(t){return e.dispatchSelectedQueues(e.selectAllQ)}}}):e._e()])]),t("div",{staticClass:"table-content",on:{scroll:function(t){return e.funScroll(t)}}},e._l(e.getGlobalQueuesList,(function(i){return t("ul",{key:i.uid,staticClass:"list-group queue",class:{selected:e.userQueues.filter((e=>e.uid===i.uid)).length}},[t("li",{staticClass:"queue-name ellipsis"},[e._v(e._s(i.name))]),t("li",{staticClass:"queue-int-num"},[e._v(" "+e._s(i.internalNumber))]),t("li",{staticClass:"queue-user-uid"},[e._v(e._s(i.userCount))]),t("li",{staticClass:"container-icon-to",on:{click:function(t){return e.dispatchSelectedQueues(e.selectQ,i)}}},[t("img",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"top",arrow:!0,delay:800,duration:500},expression:"{ placement : 'top',  arrow: true, delay : 800, duration: 500 }"}],staticClass:"select-btn",attrs:{content:"Select item",width:"23",src:s(90145),alt:"icon-to"}})])])})),0)])]),t("div",{staticClass:"switcher"},[t("svg",{attrs:{width:"66",height:"66",viewBox:"0 0 66 66",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[t("path",{attrs:{d:"M65 17.0005C65 14.7914 63.2092 13.0006 61.0001 13.0006H15.1797L20.5496 7.82879C22.1693 6.26484 22.1693 3.73691 20.5496 2.17296C18.9257 0.609012 16.2968 0.609012 14.6771 2.17296L2.21789 14.1726C0.594037 15.7365 0.594037 18.2645 2.21789 19.8284L14.6771 31.828C15.487 32.608 16.5502 33 17.6134 33C18.6765 33 19.7397 32.608 20.5496 31.828C22.1693 30.2641 22.1693 27.7362 20.5496 26.1722L15.1797 21.0004H61.0001C63.2092 21.0004 65 19.2096 65 17.0005Z",fill:"white","fill-opacity":"0.1"}}),t("path",{attrs:{d:"M51.3229 34.173C49.699 32.609 47.0743 32.609 45.4504 34.173C43.8266 35.7369 43.8266 38.2648 45.4504 39.8288L50.8203 45.0006H4.99988C2.79081 45.0006 1 46.7914 1 49.0005C1 51.2096 2.79081 53.0004 4.99988 53.0004H50.8203L45.4504 58.1722C43.8266 59.7362 43.8266 62.2641 45.4504 63.828C46.2603 64.608 47.3234 65 48.3866 65C49.4498 65 50.513 64.608 51.3229 63.828L63.7821 51.8284C65.406 50.2645 65.406 47.7365 63.7821 46.1726L51.3229 34.173Z",fill:"white","fill-opacity":"0.1"}}),t("path",{staticClass:"stroke-arrow",attrs:{d:"M65 17.0005C65 14.7914 63.2092 13.0006 61.0001 13.0006H15.1797L20.5496 7.82879C22.1693 6.26484 22.1693 3.73691 20.5496 2.17296C18.9257 0.609012 16.2968 0.609012 14.6771 2.17296L2.21789 14.1726C0.594037 15.7365 0.594037 18.2645 2.21789 19.8284L14.6771 31.828C15.487 32.608 16.5502 33 17.6134 33C18.6765 33 19.7397 32.608 20.5496 31.828C22.1693 30.2641 22.1693 27.7362 20.5496 26.1722L15.1797 21.0004H61.0001C63.2092 21.0004 65 19.2096 65 17.0005Z","stroke-width":"2"}}),t("path",{staticClass:"stroke-arrow",attrs:{d:"M51.3229 34.173C49.699 32.609 47.0743 32.609 45.4504 34.173C43.8266 35.7369 43.8266 38.2648 45.4504 39.8288L50.8203 45.0006H4.99988C2.79081 45.0006 1 46.7914 1 49.0005C1 51.2096 2.79081 53.0004 4.99988 53.0004H50.8203L45.4504 58.1722C43.8266 59.7362 43.8266 62.2641 45.4504 63.828C46.2603 64.608 47.3234 65 48.3866 65C49.4498 65 50.513 64.608 51.3229 63.828L63.7821 51.8284C65.406 50.2645 65.406 47.7365 63.7821 46.1726L51.3229 34.173Z","stroke-width":"2"}})])]),t("div",{staticClass:"selected"},[t("div",[t("div",{staticClass:"table-title"},[e._v("Selected Queues")]),t("div",[t("ul",{staticClass:"table-header"},[t("li",{on:{click:function(t){return e.sortFunc("name","selectedQueues","getSelectedQueuesName")}}},[e._v(" Name of Queue "),t("img",{ref:"getSelectedQueuesName",attrs:{src:s(71614)}})]),t("li",{on:{click:function(t){return e.sortFunc("internalNumber","selectedQueues","getSelectedQueuesNumber")}}},[e._v(" Queue Number "),t("img",{ref:"getSelectedQueuesNumber",attrs:{src:s(71614)}})]),t("li",{staticClass:"agent-length-title",on:{click:function(t){return e.sortFunc("userCount","selectedQueues","getSelectedQueuesAgents")}}},[e._v(" Agents in Queue "),t("img",{ref:"getSelectedQueuesAgents",attrs:{src:s(71614)}})]),t("li",[t("img",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"top",arrow:!0,delay:800,duration:500},expression:"{ placement : 'top',  arrow: true, delay : 800, duration: 500 }"}],staticClass:"select-all-btn",attrs:{content:"Remove all",width:"23",src:s(72500),alt:"table-icon-from"},on:{click:function(t){return e.dispatchSelectedQueues(e.removeAllQ)}}})])]),t("div",{staticClass:"table-content"},e._l(e.selectedQueues,(function(i,a){return t("ul",{key:i.uid+a,staticClass:"list-group"},[t("li",{staticClass:"queue-name ellipsis"},[e._v(e._s(i.name))]),t("li",{staticClass:"queue-int-num"},[e._v(e._s(i.internalNumber))]),t("li",{staticClass:"queue-user-uid"},[e._v(e._s(i.userCount))]),t("li",{staticClass:"container-icon-to",on:{click:function(t){return e.dispatchSelectedQueues(e.deleteQ,i)}}},[t("img",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"top",arrow:!0,delay:800,duration:500},expression:"{ placement : 'top',  arrow: true, delay : 800, duration: 500 }"}],staticClass:"select-btn",attrs:{content:"Remove item",width:"23",src:s(95410),alt:"table-icon-from"}})])])})),0)])])])])])])},Q=[],$=s(73427),O={name:"QSettings",data(){return{selectedQueues:[],unsubscribe:()=>{},sort:{number:!0,user:!0,agents:!0},order:{selectedQueues:{name:"asc",internalNumber:"asc",userCount:"asc"},getGlobalQueuesList:{name:"desc",internalNumber:"desc",userCount:"desc"}},activeSort:"internalNumber",perPage:18,selectAllBool:!1}},computed:{...(0,u.Se)(["userQueues","userInfoVuex","getPaginatorQueues","getGlobalQueuesList"])},methods:{funScroll({target:e}){e.clientHeight+e.scrollTop===e.scrollHeight&&this.getPaginatorQueues.paginator.count>this.perPage&&(this.perPage+=9,this.fetch(this.perPage,this.activeSort,"desc"===this.order.getGlobalQueuesList[this.activeSort]?"asc":"desc"))},fetch(e,t,s){this.$store.dispatch("setGlobalQueuesList",{peerPage:e,sort:t,order:s})},sortFunc(e,t,s){if("getGlobalQueuesList"===t){const i=(0,$.c)(this.fetch,this.$refs[s],this.order[t][e],this.perPage,e);this.order[t][e]=i.order,this.$refs[s]=i.refArrow,this.activeSort=e}else{const i=(0,$.k)(e,this[t],this.$refs[s],this.order[t][e]);this.order[t][e]=i.order,this.$refs[s]=i.refArrow}},selectQ(e){const{name:t,internalNumber:s,userCount:i,uid:a}=e;this.selectedQueues.includes(e)||(this.selectedQueues.push({name:t,internalNumber:s,userCount:i,uid:a}),this.getGlobalQueuesList.length-this.selectedQueues.length<9&&this.getGlobalQueuesList.length<this.getPaginatorQueues.paginator.count&&this.fetch(this.perPage+=9,this.activeSort,this.order.getGlobalQueuesList[this.activeSort]))},deleteQ(e){if(e){const t=[];this.userInfoVuex.relatedWith.queue.forEach((s=>{s.uid!==e.uid&&t.push(s)})),this.selectedQueues=t}},selectAllQ(){this.fetch(this.getPaginatorQueues.paginator.count,this.activeSort,this.order.getGlobalQueuesList[this.activeSort]);const e=this.getGlobalQueuesList.filter((e=>!this.userQueues.length||this.userQueues.some((t=>t.uid!==e.uid))));this.selectedQueues=[...e,...this.userQueues],this.selectAllBool=!0},removeAllQ(){this.selectedQueues=[]},dispatchSelectedQueues(e,t){e(t),this.defaultQueue()},defaultQueue(){this.selectedQueues=m().sortBy(this.selectedQueues,[function(e){return e.name}]),this.$store.dispatch("usersQueuesSelected",JSON.parse(JSON.stringify(this.selectedQueues)))}},mounted(){this.selectedQueues=JSON.parse(JSON.stringify(this.userQueues||[])),this.unsubscribe=this.$store.subscribe((e=>{"setUserInfo"===e.type&&(this.selectedQueues=JSON.parse(JSON.stringify(this.userQueues))),"addSelectedQueues"===e.type&&(this.selectedQueues=JSON.parse(JSON.stringify(this.userQueues)))})),this.fetch(this.perPage,this.activeSort,this.order.getGlobalQueuesList[this.activeSort])},beforeDestroy(){this.unsubscribe()}},V=O,M=(0,b.Z)(V,I,Q,!1,null,"dffe335a",null),A=M.exports,U=function(){var e=this,t=e._self._c;return t("div",{staticClass:"template"},[t("DeleteComponent",{attrs:{deleteInfo:e.showDeleteComponents,textProp:e.textToDeleteComponent,titleProp:e.titleToDeleteComponent,topProp:-10},on:{deleteFunc:e.deleteRoute,cancelDeleteFunc:e.cancelDelete}}),t("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.hide,expression:"hide"}],staticClass:"main-outbound-routing-block",on:{click:function(t){e.hideListOptions(t),e.indexRoute="false"}}},[t("div",{staticClass:"head"},[t("div",{staticClass:"head-top-block"},[t("span",{staticClass:"head-title-and-edit-btn"},[e._v(" Outbound Routing "),t("button",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"top",arrow:!0,delay:800,duration:500},expression:"{ placement : 'top',  arrow: true, delay : 800, duration: 500 }"}],staticClass:"btn-edit",attrs:{content:"Edit mode"},on:{click:function(t){return e.toggleEditMode()}}},[t("img",{attrs:{src:s(62365),alt:""}})])]),t("div",{staticClass:"right-tabs"},[t("ControlPanel",{attrs:{show:e.edit,apply:e.handlerSubmit,discard:e.clearUser}})],1)])]),t("div",{staticClass:"head-filters-block"},[t("span",{staticClass:"head-filters-block-title"},[e._v("Filter by:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.filters.direction,expression:"filters.direction"}],staticClass:"input-field",attrs:{type:"text",placeholder:"Enter Direct...",maxlength:"16"},domProps:{value:e.filters.direction},on:{input:function(t){t.target.composing||e.$set(e.filters,"direction",t.target.value)}}}),t("input",{directives:[{name:"model",rawName:"v-model",value:e.filters.externalNumber,expression:"filters.externalNumber"}],staticClass:"input-field",attrs:{type:"text",placeholder:"Enter V-Num",maxlength:"16"},domProps:{value:e.filters.externalNumber},on:{input:function(t){t.target.composing||e.$set(e.filters,"externalNumber",t.target.value)}}}),t("input",{directives:[{name:"model",rawName:"v-model",value:e.filters.priority,expression:"filters.priority"}],staticClass:"input-field",attrs:{type:"text",placeholder:"Priority",maxlength:"16"},domProps:{value:e.filters.priority},on:{input:function(t){t.target.composing||e.$set(e.filters,"priority",t.target.value)}}}),t("div",{staticClass:"allowed-filter-item",class:{"not-open-allowed-filter":"filterAllowed"!==e.showList}},[""===e.filters.allowed?t("span",{staticClass:"all-filter-span img-hover",on:{click:function(t){return e.setShowList("showList","filterAllowed")}}},[e._v("All")]):t("img",{staticClass:"img-hover",attrs:{src:!0===e.filters.allowed?e.successStatusPayment:e.redStatusPayment},on:{click:function(t){return e.setShowList("showList","filterAllowed")}}}),t("svg",{staticClass:"allowed-filter-arrow",class:{"allowed-filter-arrow-down":"filterAllowed"!==e.showList},attrs:{width:"5",height:"8",viewBox:"0 0 5 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[t("path",{attrs:{d:"M4 4L1 1V7L4 4Z",fill:"var(--allowed-filter-arrow)",stroke:"var(--allowed-filter-arrow)","stroke-linecap":"round","stroke-linejoin":"round"}})]),"filterAllowed"===e.showList?t("div",{staticClass:"allowed-filter-choose-block"},[""!==e.filters.allowed?t("span",{staticClass:"all-filter-span img-hover",on:{click:function(t){e.filters.allowed="",e.setShowList("showList","filterAllowed")}}},[e._v("All")]):e._e(),!0!==e.filters.allowed?t("img",{staticClass:"img-hover",attrs:{src:e.successStatusPayment},on:{click:function(t){e.filters.allowed=!0,e.setShowList("showList","filterAllowed")}}}):e._e(),!1!==e.filters.allowed?t("img",{staticClass:"img-hover",attrs:{src:e.redStatusPayment},on:{click:function(t){e.filters.allowed=!1,e.setShowList("showList","filterAllowed")}}}):e._e()]):e._e()]),e.showClearAllFiltersBtn?t("span",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"top",arrow:!0,delay:800,duration:500},expression:"{ placement : 'top',  arrow: true, delay : 800, duration: 500 }"}],staticClass:"clear-filters-block",attrs:{content:"Clear all"},on:{click:function(t){return e.clearAllFilters()}}},[t("img",{attrs:{width:"14",height:"15",src:s(72775)}})]):e._e()]),t("div",{staticClass:"outbound-routing-table"},[t("div",{staticClass:"header-of-table"},[t("ul",{staticClass:"header-list"},[t("li",{staticClass:"header-list-item item-direction"},[e._v(" Direction "),t("img",{ref:"sortDirection",attrs:{src:s(71614)}})]),t("li",{staticClass:"header-list-item item-number"},[e._v(" V-Number "),t("img",{ref:"sortExternalNumber",attrs:{src:s(71614)}})]),t("li",{staticClass:"header-list-item item-priority"},[e._v(" Priority "),t("img",{ref:"sortPriority",attrs:{src:s(71614)}})]),t("li",{staticClass:"header-list-item item-status"},[e._v(" Status "),t("img",{ref:"sortStatus",attrs:{src:s(71614)}})])])]),t("div",{staticClass:"body-of-table"},[t("ul",{staticClass:"body-list"},[e.editMode?t("li",{staticClass:"body-list-item"},[t("ul",{staticClass:"horizontal-secondary-list new-route-list"},[t("li",{staticClass:"btn-item"},[t("span",{staticClass:"add-route-btn-span",class:{"disabled-btn":!e.validNewRoute(e.newRoute)},on:{click:function(t){e.validNewRoute(e.newRoute)?e.createRoute(e.newRoute):e.newRoute.checkValid=!0}}},[e._m(0)])]),t("li",{ref:"directioncreate",staticClass:"horizontal-secondary-list-item item-direction",class:{"red-line":e.newRoute.checkValid&&!e.newRoute.direction.code},on:{click:function(t){e.indexRoute="directioncreate"}}},[t("span",{staticClass:"options-label"},[t("label",[t("input",{staticClass:"input-field num",attrs:{type:"text",readonly:""},domProps:{value:e.newRoute.direction.code?`${e.newRoute.direction.code}(${e.newRoute.direction.type})`:"Select direction"}}),t("span",{staticClass:"triangle",class:{"rotate-arrow":"directioncreate"===e.showList},on:{click:function(t){e.setShowList("showList","directioncreate","direction",t.target.parentNode.parentNode.getElementsByClassName("direction")[0])}}},[t("svg",{attrs:{width:"20",height:"10",viewBox:"0 0 12 7",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[t("path",{attrs:{opacity:"0.9",d:"M1 1L6 6L11 1","stroke-linecap":"round","stroke-linejoin":"round"}})])])]),t("DropdownList",{directives:[{name:"show",rawName:"v-show",value:"directioncreate"===e.showList,expression:"showList === `directioncreate`"}],attrs:{classNameList:"list-related-numbers direction",dataList:e.getDirections.filter((e=>"00"!==e.code)),itemText:e=>`${e.code}(${e.type})`,classNameInput:"list-related-input",valueInput:e.searchValue,contentTippyCondition:e=>`${e.code}(${e.type})`.length>10},on:{clickFunc:t=>{e.setParams(e.newRoute,"direction",t)},changeInput:t=>e.search(t.target.value)}})],1)]),t("li",{ref:"externalNumbercreate",staticClass:"horizontal-secondary-list-item item-number",class:{"red-line":e.newRoute.checkValid&&""===e.externalNumberValue(e.newRoute)},on:{click:function(t){e.indexRoute="externalNumbercreate"}}},[t("label",{staticClass:"options-label"},[t("input",{staticClass:"input-field num",attrs:{type:"text",maxlength:"16"},domProps:{value:e.externalNumberValue(e.newRoute)||"Select V-num"}}),t("span",{staticClass:"triangle",class:{"rotate-arrow":"externalNumbercreate"===e.showList},on:{click:function(t){return e.setShowList("showList","externalNumbercreate","")}}},[t("svg",{attrs:{width:"20",height:"10",viewBox:"0 0 12 7",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[t("path",{attrs:{opacity:"0.9",d:"M1 1L6 6L11 1","stroke-linecap":"round","stroke-linejoin":"round"}})])]),t("ul",{directives:[{name:"show",rawName:"v-show",value:"externalNumbercreate"===e.showList,expression:"showList === `externalNumbercreate`"}],staticClass:"list-related-numbers"},[t("li",{on:{click:function(t){e.setShowList("showList","externalNumbercreateNumber","externalNumber",t.target.parentNode.parentNode.getElementsByClassName("externalNumber")[0])}}},[e._v(" V-number ")]),t("li",{on:{click:function(t){e.setShowList("showList","externalNumbercreateDepartment","department",t.target.parentNode.parentNode.getElementsByClassName("department")[0])}}},[e._v(" Department ")]),t("li",{on:{click:function(t){return e.setVNumber(e.newRoute,"preferred",!0)}}},[e._v("Preferred")])]),t("DropdownList",{directives:[{name:"show",rawName:"v-show",value:"externalNumbercreateNumber"===e.showList,expression:"showList === `externalNumbercreateNumber`"}],attrs:{classNameList:"list-related-numbers externalNumber external-number-description-list",dataList:e.getGlobalExternalNumbers,itemText:e=>`${e.number}<span class='description'>${e.description}</span>`,classNameInput:"list-related-input",valueInput:e.searchValue,contentTippyCondition:e=>e.number.length>10},on:{clickFunc:t=>{e.setVNumber(e.newRoute,"externalNumber",t)},changeInput:t=>e.search(t.target.value)}}),t("DropdownList",{directives:[{name:"show",rawName:"v-show",value:"externalNumbercreateDepartment"===e.showList,expression:"showList === `externalNumbercreateDepartment`"}],attrs:{classNameList:"list-related-numbers department",dataList:e.getGlobalDepartments,itemText:e=>e.name,classNameInput:"list-related-input",valueInput:e.searchValue,contentTippyCondition:e=>e.name.length>10},on:{clickFunc:t=>{e.setVNumber(e.newRoute,"department",t)},changeInput:t=>e.search(t.target.value)}})],1)]),t("li",{staticClass:"horizontal-secondary-list-item item-priority",class:{"red-line":e.newRoute.checkValid&&!e.newRoute.priority}},[t("span",{staticClass:"allowed-span",class:{"active-allowed":"prioritycreate"===e.showList}},[t("input",{staticClass:"input-priority",attrs:{maxlength:"3"},domProps:{value:e.newRoute.priority||""},on:{keydown:e.onKeyDownHandlerForPriorityInput,input:function(t){return e.setParams(e.newRoute,"priority",t.target.value,"number")},focus:function(t){return e.setShowList("showList","prioritycreate")},blur:function(t){return e.setShowList("showList","")}}})])]),t("li",{ref:"allowedcreate",staticClass:"horizontal-secondary-list-item item-priority item-status",on:{click:function(t){e.indexRoute="allowedcreate"}}},[null===e.newRoute.allowed?t("span",{staticClass:"status-null",on:{click:function(t){e.setShowList("showList","allowedcreate"),e.indexRoute="allowedcreate"}}}):t("img",{staticClass:"status-img",attrs:{src:e.newRoute.allowed?e.successStatusPayment:e.redStatusPayment,alt:""},on:{click:function(t){e.setShowList("showList","allowedcreate"),e.indexRoute="allowedcreate"}}}),"allowedcreate"===e.showList?t("div",{staticClass:"status-block"},[t("div",{staticClass:"status-container"},[t("img",{attrs:{src:e.successStatusPayment},on:{click:function(t){e.newRoute.allowed=!0,e.showList=""}}}),t("img",{attrs:{src:e.redStatusPayment},on:{click:function(t){e.newRoute.allowed=!1,e.showList=""}}})])]):e._e()])])]):e._e(),e._l(e.listRoutes,(function(s,i){return t("li",{key:i,staticClass:"body-list-item"},[t("ul",{staticClass:"horizontal-secondary-list"},[e.editMode&&"00"!==s.direction.code?t("li",{staticClass:"btn-item"},[t("span",{staticClass:"add-route-btn-span",on:{click:function(t){return e.setDeleteRouteActive(s)}}},[e._m(1,!0)])]):e._e(),t("li",{ref:`direction${s.uid}create`,refInFor:!0,staticClass:"horizontal-secondary-list-item item-direction",class:{"non-events":"00"===s.direction.code},on:{click:function(t){e.indexRoute=`direction${s.uid}create`}}},[t("span",{staticClass:"options-label"},[t("label",[t("input",{staticClass:"input-field num",attrs:{type:"text",readonly:""},domProps:{value:"00"!==s.direction.code?`${s.direction.code}(${s.direction.type})`:"Other directions"}}),t("span",{staticClass:"triangle",class:{"rotate-arrow":e.showList===`direction${s.uid}create`},on:{click:function(t){e.setShowList("showList",`direction${s.uid}create`,"direction",t.target.parentNode.parentNode.getElementsByClassName("direction")[0])}}},[t("svg",{attrs:{width:"20",height:"10",viewBox:"0 0 12 7",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[t("path",{attrs:{opacity:"0.9",d:"M1 1L6 6L11 1","stroke-linecap":"round","stroke-linejoin":"round"}})])])]),t("DropdownList",{directives:[{name:"show",rawName:"v-show",value:e.showList===`direction${s.uid}create`,expression:"showList === `direction${item.uid}create`"}],attrs:{classNameList:"list-related-numbers direction",dataList:e.getDirections.filter((e=>"00"!==e.code)),itemText:e=>`${e.code}(${e.type}`,classNameInput:"list-related-input",valueInput:e.searchValue,contentTippyCondition:e=>`${e.code}(${e.type})`.length>10},on:{clickFunc:t=>{e.setParams(s,"direction",t)},changeInput:t=>e.search(t.target.value)}})],1)]),t("li",{ref:`externalNumber${s.uid}create`,refInFor:!0,staticClass:"horizontal-secondary-list-item item-number",on:{click:function(t){e.indexRoute=`externalNumber${s.uid}create`}}},[t("label",{staticClass:"options-label"},[t("input",{staticClass:"input-field num",attrs:{type:"text",maxlength:"16"},domProps:{value:e.externalNumberValue(s)||"Select V-num"}}),t("span",{staticClass:"triangle",class:{"rotate-arrow":e.showList===`externalNumber${s.uid}create`},on:{click:function(t){return e.setShowList("showList",`externalNumber${s.uid}create`,"")}}},[t("svg",{attrs:{width:"20",height:"10",viewBox:"0 0 12 7",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[t("path",{attrs:{opacity:"0.9",d:"M1 1L6 6L11 1","stroke-linecap":"round","stroke-linejoin":"round"}})])]),t("ul",{directives:[{name:"show",rawName:"v-show",value:e.showList===`externalNumber${s.uid}create`,expression:"showList === `externalNumber${item.uid}create`"}],staticClass:"list-related-numbers"},[t("li",{on:{click:function(t){e.setShowList("showList",`externalNumber${s.uid}createNumber`,"externalNumber",t.target.parentNode.parentNode.getElementsByClassName("externalNumber")[0])}}},[e._v(" V-number ")]),t("li",{on:{click:function(t){e.setShowList("showList",`externalNumber${s.uid}createDepartment`,"department",t.target.parentNode.parentNode.getElementsByClassName("department")[0])}}},[e._v(" Department ")]),t("li",{on:{click:function(t){return e.setVNumber(s,"preferred",!0)}}},[e._v("Preferred")])]),t("DropdownList",{directives:[{name:"show",rawName:"v-show",value:e.showList===`externalNumber${s.uid}createNumber`,expression:"showList === `externalNumber${item.uid}createNumber`"}],attrs:{classNameList:"list-related-numbers externalNumber external-number-description-list",dataList:e.getGlobalExternalNumbers,itemText:e=>`${e.number}<span class='description'>${e.description}</span>`,classNameInput:"list-related-input",valueInput:e.searchValue,contentTippyCondition:e=>e.number.length>10},on:{clickFunc:t=>{e.setVNumber(s,"externalNumber",t)},changeInput:t=>e.search(t.target.value)}}),t("DropdownList",{directives:[{name:"show",rawName:"v-show",value:e.showList===`externalNumber${s.uid}createDepartment`,expression:"showList === `externalNumber${item.uid}createDepartment`"}],attrs:{classNameList:"list-related-numbers department",dataList:e.getGlobalDepartments,itemText:e=>e.name,classNameInput:"list-related-input",valueInput:e.searchValue,contentTippyCondition:e=>e.name.length>10},on:{clickFunc:t=>{e.setVNumber(s,"department",t)},changeInput:t=>e.search(t.target.value)}})],1)]),t("li",{staticClass:"horizontal-secondary-list-item item-priority"},[t("span",{staticClass:"allowed-span",class:{"active-allowed":e.showList===`allowed${s.uid}create`}},[t("input",{staticClass:"input-priority",attrs:{maxlength:"3"},domProps:{value:s.priority||""},on:{keydown:e.onKeyDownHandlerForPriorityInput,input:function(t){return e.setParams(s,"priority",t.target.value,"number")},focus:function(t){return e.setShowList("showList",`allowed${s.uid}create`)},blur:function(t){return e.setShowList("showList","")}}})])]),t("li",{ref:`allowed${s.uid}create`,refInFor:!0,staticClass:"horizontal-secondary-list-item item-priority item-status",on:{click:function(t){e.indexRoute=`allowed${s.uid}create`}}},[null===s.allowed?t("span",{staticClass:"status-null",on:{click:function(e){s.showAllowed=!s.showAllowed}}}):e._e(),t("img",{ref:`allowed${s.uid}`,refInFor:!0,staticClass:"status-img",attrs:{src:s.allowed?e.successStatusPayment:e.redStatusPayment,alt:""},on:{click:function(t){e.setShowList("showList",`allowed${s.uid}`),e.indexRoute=`allowed${s.uid}`}}}),e.showList===`allowed${s.uid}`?t("div",{ref:`allowed${s.uid}`,refInFor:!0,staticClass:"status-block",on:{click:function(t){e.indexRoute=`allowed${s.uid}`}}},[t("div",{staticClass:"status-container"},[t("img",{attrs:{src:e.successStatusPayment},on:{click:function(t){return e.setParams(s,"allowed",!0)}}}),t("img",{attrs:{src:e.redStatusPayment},on:{click:function(t){return e.setParams(s,"allowed",!1)}}})])]):e._e()])])])}))],2)])])])],1)},F=[function(){var e=this,t=e._self._c;return t("span",{staticClass:"add-route-btn"},[t("img",{attrs:{src:s(60766)}})])},function(){var e=this,t=e._self._c;return t("span",{staticClass:"add-route-btn"},[t("img",{staticClass:"create-btn",attrs:{width:"12",height:"12",src:s(24245)}})])}],Z=(s(30541),s(11107)),q=s(23754),E=s(57834),B=s(38827),J=s(65468),T=s(6915),G=s(86764),H=s(12246),j=s(92349),z=s(3197),W={name:"AccountinfoOutboundRouting",components:{ControlPanel:Z.Z,DeleteComponent:H.Z,DropdownList:o.Z},data(){return{filters:{direction:"",externalNumber:"",priority:"",allowed:""},sort:{name:"asc",internalNumber:"asc",department:"asc",direction:"asc",externalNumber:"asc",priority:"asc"},activeList:null,newRoute:JSON.parse(JSON.stringify(G._7)),editMode:!1,edit:!1,isSearch:!1,showList:"",searchValue:"",perPage:9,redStatusPayment:q,successStatusPayment:E,listRoutes:[],initialListRoutes:[],showDeleteComponents:!1,titleToDeleteComponent:"Delete Route",textToDeleteComponent:"",deleteRouteActive:{},arrayToUpdate:[]}},computed:{...(0,u.Se)(["userUid","getDirections","getGlobalExternalNumbers","getGlobalDepartments"]),showClearAllFiltersBtn(){return Object.values(this.filters).filter((e=>""!==e)).length}},methods:{onKeyDownHandlerForPriorityInput(e){Number.isInteger(+e.key)||["Backspace","Delete"].includes(e.key)||e.preventDefault()},onscroll(){this.activeList.addEventListener("scroll",this.funScroll)},deleteScroll(){this.activeList.removeEventListener("scroll",this.funScroll)},funScroll(){j.Z.funScroll(this)},hide(){this.showList="",this.showBatchActions=!1},hideListOptions(){(0,z.O)(this,this.indexRoute,this.$refs)},search(e=""){j.Z.search(this,e)},toggleEditMode(){this.editMode=!this.editMode,this.newRoute.checkValid=!1,this.newRoute=JSON.parse(JSON.stringify(G._7))},getDataFromBack(){B.ik.getRoutesOfUser(this.userUid||sessionStorage.getItem("userUid")).then((e=>{this.listRoutes=this.sortDataByDirectionsAndPriority(e.data.data),this.initialListRoutes=this.sortDataByDirectionsAndPriority(JSON.parse(JSON.stringify(e.data.data))),this.isEqual()}))},clearAllFilters(){this.filters.direction="",this.filters.externalNumber="",this.filters.priority="",this.filters.allowed=""},sortDataByDirectionsAndPriority(e){let t=JSON.parse(JSON.stringify(e));return m().sortBy(t,["direction.code","priority"])},handlerSubmit(){0!==this.arrayToUpdate.length?J.jI.updateRoutes(this.userUid||sessionStorage.getItem("userUid"),this.arrayToUpdate[0].uid,(0,T._8)(JSON.parse(JSON.stringify(this.arrayToUpdate[0])))).then((e=>{this.listRoutes=this.listRoutes.map((t=>(t.uid===e.data.uid&&(t=e.data),t))),this.initialListRoutes=this.initialListRoutes.map((t=>(t.uid===e.data.uid&&(t=JSON.parse(JSON.stringify(e.data))),t))),this.arrayToUpdate.shift(),this.handlerSubmit()})):this.edit=!1},clearUser(){this.getDataFromBack()},fetch(e,t=""){j.Z.fetch(this,e,t)},cancelDelete(){j.Z.cancelDelete(this)},deleteRoute(){J.jI.deleteRoute(this.userUid||sessionStorage.getItem("userUid"),this.deleteRouteActive.item).then((()=>{this.listRoutes=this.listRoutes.filter((e=>e.uid!==this.deleteRouteActive.item)),this.initialListRoutes=JSON.parse(JSON.stringify(this.initialListRoutes.filter((e=>e.uid!==this.deleteRouteActive.item)))),this.deleteRouteActive={},this.showDeleteComponents=!1}))},setDeleteRouteActive(e){this.deleteRouteActive={item:e.uid},this.textToDeleteComponent="Are you sure you want to delete this Route ?",this.showDeleteComponents=!0},validNewRoute(e){return j.Z.validNewRoute(this,e)},setParams(e,t,s,i){j.Z.setParams(this,e,t,s,i)},setVNumber(e,t,s){j.Z.setVNumber(this,e,t,s)},createRoute(){const e=(0,T._8)(this.newRoute);J.jI.createRoute(this.userUid||sessionStorage.getItem("userUid"),e).then((e=>{this.listRoutes.unshift(e.data),this.initialListRoutes.unshift(JSON.parse(JSON.stringify(e.data))),this.listRoutes=this.sortDataByDirectionsAndPriority(this.listRoutes),this.initialListRoutes=this.sortDataByDirectionsAndPriority(this.initialListRoutes),this.newRoute=JSON.parse(JSON.stringify(G._7))}))},setShowList(e,t,s,i){j.Z.setShowList(this,e,t,s,i)},externalNumberValue(e){return j.Z.externalNumberValue(e)},isEqual(){this.arrayToUpdate=[];let e=!1;for(let t=0;t<this.initialListRoutes.length;t++){const s=JSON.parse(JSON.stringify(this.listRoutes[t])),i=JSON.parse(JSON.stringify(this.initialListRoutes[t]));m().isEqual(s,i)||(this.edit=!0,e=!0,this.arrayToUpdate.push(JSON.parse(JSON.stringify(this.listRoutes[t]))))}e||(this.edit=!1)}},mounted(){this.popupItem=this.$el.children[0],this.getDataFromBack()},directives:{ClickOutside:k()}},K=W,X=(0,b.Z)(K,U,F,!1,null,"73548c63",null),Y=X.exports,ee=function(){var e=this,t=e._self._c;return t("div",{staticClass:"queues-managing"},[t("div",{staticClass:"queues-managing__title"},[e._v(" Available Queues ")]),t("div",{staticClass:"table-content"},[t("div",{staticClass:"table-content__sticky"},[t("ul",{staticClass:"table-content__list-header"},[t("li",{staticClass:"table-content__header-item"},[t("button",{class:{"edit-close-btn":"owner"!==e.userRole&&"root"!==e.userRole&&"admin"!==e.userRole},on:{click:function(t){return e.setChange()}}},[e.change?e._e():t("img",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"top",arrow:!0,delay:800,duration:500},expression:"{ placement: 'top', arrow: true, delay: 800, duration: 500 }"}],attrs:{content:"Edit mode",src:s(62365),alt:"",width:"10.67",height:"10.67"}}),e.change?t("img",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"top",arrow:!0,delay:800,duration:500},expression:"{ placement: 'top', arrow: true, delay: 800, duration: 500 }"}],attrs:{content:"Read mode",src:s(22739),alt:"",width:"10.67",height:"10.67"}}):e._e()])]),t("li",{staticClass:"table-content__header-item",on:{click:function(t){return e.sortFunc("name","queueList","getRelatedQueuesName")}}},[e._v(" Name of Queue "),t("img",{ref:"getRelatedQueuesName",attrs:{src:s(71614)}})]),t("li",{staticClass:"table-content__header-item",on:{click:function(t){return e.sortFunc("internalNumber","queueList","getRelatedQueuesNumber")}}},[e._v(" Queue Number "),t("img",{ref:"getRelatedQueuesNumber",attrs:{src:s(71614)}})]),t("li",{staticClass:"table-content__header-item",on:{click:function(t){return e.sortFunc("option.edit","queueList","getRelatedQueuesAction")}}},[e._v(" Actions "),t("img",{ref:"getRelatedQueuesAction",attrs:{src:s(71614)}})])]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.change,expression:"change"}],staticClass:"table-content__enterQueue"},[t("button",[e.change?t("img",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"top",arrow:!0,delay:800,duration:500},expression:"{ placement: 'top', arrow: true, delay: 800, duration: 500 }"}],attrs:{content:"Show/hide list",src:s(50479),alt:"",width:"16",height:"15"},on:{click:function(t){e.firstOpenList(),e.relQueuesValueSearch=""}}}):e._e()]),t("div",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.relQueuesValueSearch,expression:"relQueuesValueSearch"},{name:"click-outside",rawName:"v-click-outside",value:e.hideList,expression:"hideList"}],attrs:{type:"text",placeholder:"Search Queues",maxlength:"16"},domProps:{value:e.relQueuesValueSearch},on:{input:[function(t){t.target.composing||(e.relQueuesValueSearch=t.target.value)},function(t){e.showList("relQueuesValueSearch","showRelQueues"),e.searchQueues()}],click:function(t){e.relQueuesValueSearch=""}}}),t("DropdownList",{directives:[{name:"show",rawName:"v-show",value:e.showRelQueues,expression:"showRelQueues"}],attrs:{classNameList:"listRelDeps",dataList:e.viewRelQueues,itemText:e=>e.name,clickFuncAll:null,classNameItemComputed:()=>""},on:{clickFunc:t=>e.chooseRelQueues(t),scrollFunc:t=>e.funScroll(t)}})],1)])]),e._l(e.queueList,(function(i,a){return t("ul",{key:a,staticClass:"table-content__list-main"},[t("li",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"top",arrow:!0,delay:800,duration:500},expression:"{ placement: 'top', arrow: true, delay: 800, duration: 500 }"},{name:"show",rawName:"v-show",value:e.change,expression:"change"}],staticClass:"table-content__list-item delete",attrs:{content:"Remove item"},on:{click:function(t){return e.deleteQueues(i)}}},[t("span",{staticClass:"delete-span"})]),t("li",{staticClass:"table-content__list-item ellipsis"},[e._v(e._s(i.name))]),t("li",{staticClass:"table-content__list-item"},[e._v(e._s(i.internalNumber))]),t("li",{staticClass:"table-content__list-item"},[t("label",{staticClass:"table-content__label"},[t("input",{attrs:{type:"checkbox",disabled:"owner"===e.userRole||"root"===e.userRole||"admin"===e.userRole},domProps:{checked:i.option.edit},on:{change:function(t){return e.changeEditQueue({...i,option:{edit:t.target.checked}})}}}),t("span",{staticClass:"check"}),t("span",{staticClass:"text"},[e._v("Edit")])]),t("span",{staticClass:"table-content__img-settings",on:{click:function(t){return e.viewQueue(i)}}},[t("img",{attrs:{src:s(35116),width:"20",height:"20"}})])])])}))],2)])},te=[],se={name:"QManaging",components:{DropdownList:o.Z},data(){return{change:!1,showRelQueues:!1,relQueuesValueSearch:"",selectedRelQueue:"",queueList:[],order:{number:"desc",user:"desc","option.edit":"desc"},perPage:9}},watch:{userManageQueues(){this.queueList=this.userManageQueues}},computed:{...(0,u.Se)(["userManageQueues","getGlobalQueuesList","queues","userRole","getPaginatorQueues"]),viewRelQueues(){let e=JSON.parse(JSON.stringify(this.getGlobalQueuesList));const t=e.filter((e=>!this.queueList.some((t=>e.uid===t.uid))));return t}},methods:{searchQueues(){clearTimeout(this.timer),this.timer=setTimeout((()=>this.fetch()),800)},funScroll({target:e}){e.clientHeight+e.scrollTop===e.scrollHeight&&this.getPaginatorQueues.paginator.count>this.perPage&&(this.perPage+=9,this.fetch())},fetch(){this.$store.dispatch("setGlobalQueuesList",{peerPage:this.perPage,sort:"name",search:this.relQueuesValueSearch})},firstOpenList(){this.showRelQueues||this.viewRelQueues.length||this.fetch(),this.showRelQueues=!this.showRelQueues},showList(e,t){this[t]=this[e].length>0},hideList(){this.showRelQueues=!1},viewQueue(e){this.$store.dispatch("setSpinner",!0),B.h8.viewQueue(e.uid),localStorage.setItem("queueUid",e.uid),this.$router.push(`/config/queues/queue-setting/${e.name}`)},sortFunc(e,t,s){const i=(0,$.k)(e,this[t],this.$refs[s],this.order[e]);this[t]=i.array,this.order[e]=i.order,this.$refs[s]=i.refArrow},setChange(){"owner"!==this.userRole&&"root"!==this.userRole&&"admin"!==this.userRole&&(this.change=!this.change)},chooseRelQueues(e){this.selectedRelQueue={name:e.name,internalNumber:e.internalNumber,userCount:e.userCount,uid:e.uid,option:{edit:!1}},this.showRelQueues=!1,this.relQueuesValueSearch=e.name,this.addQueues()},changeEditQueue(e){this.$store.dispatch("setEditQueue",e)},addQueues(){const e=this.queueList.filter((e=>e.uid===this.selectedRelQueue.uid));if(!e.length){this.selectedRelQueue.option={edit:!1};let e=[this.selectedRelQueue,...this.queueList];e=m().sortBy(e,[function(e){return e.name}]),this.$store.dispatch("setUserQueuesManaged",e),this.selectedRelQueue="",this.relQueuesValueSearch=""}},deleteQueues(e){const t=this.queueList.filter((t=>t.uid!==e.uid));this.$store.dispatch("setUserQueuesManaged",t)}},mounted(){this.popupItem=this.$el.children[1].children[0],this.queueList=this.userManageQueues},directives:{ClickOutside:k()}},ie=se,ae=(0,b.Z)(ie,ee,te,!1,null,"821f8460",null),ne=ae.exports,re=function(){var e=this,t=e._self._c;return t("div",{staticClass:"wrap-queues-setting"},[t("div",{staticClass:"wrap-body"},[t("div",{staticClass:"item-container"},[t("div",{staticClass:"password"},[t("label",{staticClass:"options-label"},[e._v(" Role "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.userInfo.permission.role,expression:"userInfo.permission.role"}],staticClass:"input-field num",attrs:{type:"text",readonly:""},domProps:{value:e.userInfo.permission.role},on:{input:function(t){t.target.composing||e.$set(e.userInfo.permission,"role",t.target.value)}}})])]),t("div",{staticClass:"password"},[t("label",[e._v("SIP password "),t("input",{ref:"secret",staticClass:"input-field sip-password",attrs:{type:"text",readonly:""},domProps:{value:e.userInfo.secret}})]),t("CopyIcon",{on:{copyHandler:function(t){return e.copy()}}})],1)]),t("div",{staticClass:"table-container"},[t("div",{staticClass:"available"},[t("div",{staticClass:"table-title"},[e._v("Departments")]),t("div",[e._m(0),t("div",{staticClass:"table-content"},e._l(e.userInfo.relatedWith.department,(function(s){return t("ul",{key:s.uid,staticClass:"list-group departments-group"},[t("li",{staticClass:"queue-name"},[e._v(e._s(s.name))]),t("li",{staticClass:"queue-name"},[e._v(e._s(s.userCount))])])})),0)])]),t("div",{staticClass:"selected"},[t("div",[t("div",{staticClass:"table-title"},[e._v("Queues")]),t("div",[e._m(1),t("div",{staticClass:"table-content"},e._l(e.userInfo.relatedWith.queue,(function(s,i){return t("ul",{key:s.uid+i,staticClass:"list-group"},[t("li",{staticClass:"queue-name"},[e._v(e._s(s.name))]),t("li",{staticClass:"queue-int-num"},[e._v(e._s(s.internalNumber))]),t("li",{staticClass:"queue-user-uid"},[e._v(e._s(s.userCount))])])})),0)])])])])])])},le=[function(){var e=this,t=e._self._c;return t("ul",{staticClass:"table-header departments-table-header"},[t("li",[e._v("Name of Department")]),t("li",[e._v("Agents in Department")])])},function(){var e=this,t=e._self._c;return t("ul",{staticClass:"table-header"},[t("li",[e._v("Name of Queue")]),t("li",[e._v("Queue Number")]),t("li",[e._v("Agents in Queue")])])}],oe={name:"AgentRelatedWith",data(){return{}},computed:{...(0,u.Se)(["userInfo"])},methods:{copy(){this.$refs.secret.select(),document.execCommand("copy")}},components:{CopyIcon:R.Z}},ce=oe,ue=(0,b.Z)(ce,re,le,!1,null,"5de36912",null),de=ue.exports,pe=function(){var e=this,t=e._self._c;return t("section",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.hide,expression:"hide"}],staticClass:"table-container",on:{click:function(t){e.hideListOptions(),e.indexRef="false"}}},[t("div",{staticClass:"managed"},[t("div",{staticClass:"table-title"},[t("span",[e._v("In Departments")]),t("button",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"top",arrow:!0,delay:800,duration:500},expression:"{ placement : 'top',  arrow: true, delay : 800, duration: 500 }"}],staticClass:"btn-edit",attrs:{content:"Edit mode"},on:{click:function(t){return e.editMode("related")}}},[t("img",{attrs:{src:s(62365),alt:""}})])]),t("div",{staticClass:"wrap-table"},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.editRelated,expression:"editRelated"}],ref:"relDepValueSearch",staticClass:"table-title subtitle",on:{click:function(t){e.indexRef="relDepValueSearch"}}},[t("button",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"top",arrow:!0,delay:800,duration:500},expression:"{ placement : 'top',  arrow: true, delay : 800, duration: 500 }"}],staticClass:"btn-edit btn-add",attrs:{content:"Show/hide list"},on:{click:function(t){e.showList("relDepValueSearch","showRelDeps"),e.relDepValueSearch=""}}},[t("img",{attrs:{src:s(50479),alt:""}})]),t("div",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.relDepValueSearch,expression:"relDepValueSearch"}],attrs:{type:"text",placeholder:"Search Departments",maxlength:"16"},domProps:{value:e.relDepValueSearch},on:{input:[function(t){t.target.composing||(e.relDepValueSearch=t.target.value)},function(t){e.showList("relDepValueSearch","showRelDeps"),e.searchDepartments("relDepValueSearch")}]}}),t("DropdownList",{directives:[{name:"show",rawName:"v-show",value:"showRelDeps"===e.showListDeps,expression:"showListDeps === 'showRelDeps'"}],attrs:{classNameList:"listRelDeps",dataList:e.viewRelDeps,itemText:e=>e.name,clickFuncAll:null,classNameItemComputed:()=>""},on:{clickFunc:t=>e.chooseRelDep(t),scrollFunc:t=>e.funScroll(t)}})],1)]),t("div",{staticClass:"br"},[t("div",{staticClass:"list-group"},e._l(e.departments,(function(i,a){return t("ul",{key:a+3,staticClass:"list-group-item"},[t("li",{staticClass:"department-name ellipsis"},[t("button",{directives:[{name:"show",rawName:"v-show",value:e.editRelated,expression:"editRelated"}],staticClass:"btn-del",on:{click:function(t){return e.deleteRelDep(i)}}},[t("img",{attrs:{src:s(81117)}})]),e._v(" "+e._s(i.name)+" ")])])})),0)])])]),"agent"!==e.userInfoVuex.permission.role?t("div",{staticClass:"managed"},[t("div",{staticClass:"table-title"},[t("span",[e._v("Managing Departments")]),t("button",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"top",arrow:!0,delay:800,duration:500},expression:"{ placement : 'top',  arrow: true, delay : 800, duration: 500 }"}],staticClass:"btn-edit",class:{"no-hover":"owner"===e.userRole||"root"===e.userRole||"admin"===e.userRole},attrs:{content:"Edit mode"},on:{click:function(t){return e.editMode("managed")}}},[t("img",{attrs:{src:s(62365),alt:""}})])]),t("div",{staticClass:"wrap-table"},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.editManaged,expression:"editManaged"}],ref:"manDepValueSearch",staticClass:"table-title subtitle",on:{click:function(t){e.indexRef="manDepValueSearch"}}},[t("button",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"top",arrow:!0,delay:800,duration:500},expression:"{ placement : 'top',  arrow: true, delay : 800, duration: 500 }"}],staticClass:"btn-edit btn-add",attrs:{content:"Show/hide list"},on:{click:function(t){e.showList("manDepValueSearch","showManDeps"),e.manDepValueSearch=""}}},[t("img",{attrs:{src:s(50479),alt:""}})]),t("div",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.manDepValueSearch,expression:"manDepValueSearch"}],attrs:{type:"text",placeholder:"Search Departments",maxlength:"16"},domProps:{value:e.manDepValueSearch},on:{input:[function(t){t.target.composing||(e.manDepValueSearch=t.target.value)},function(t){e.showList("manDepValueSearch","showManDeps"),e.searchDepartments("manDepValueSearch")}]}}),t("DropdownList",{directives:[{name:"show",rawName:"v-show",value:"showManDeps"===e.showListDeps,expression:"showListDeps === 'showManDeps'"}],attrs:{classNameList:"listRelDeps",dataList:e.viewManDeps,itemText:e=>e.name,clickFuncAll:null,classNameItemComputed:()=>""},on:{clickFunc:t=>e.chooseManDep(t),scrollFunc:t=>e.funScroll(t)}})],1)]),t("div",{staticClass:"br"},[t("div",{staticClass:"list-group"},e._l(e.userManageDeps,(function(i,a){return t("ul",{key:a+1,staticClass:"list-group-item"},[t("li",{staticClass:"department-name ellipsis"},[t("button",{directives:[{name:"show",rawName:"v-show",value:e.editManaged,expression:"editManaged"}],staticClass:"btn-del",on:{click:function(t){return e.deleteManDep(i)}}},[t("img",{attrs:{src:s(81117)}})]),e._v(" "+e._s(i.name)+" "),t("img",{staticClass:"setting-img",attrs:{src:s(8910)},on:{click:function(t){return e.viewDepartment(i)}}})]),t("li",{staticClass:"action"},[e._m(0,!0),t("label",{staticClass:"label-container"},[t("input",{directives:[{name:"model",rawName:"v-model",value:i.option.edit,expression:"dep.option.edit"}],staticClass:"edit",attrs:{disabled:"owner"===e.userRole||"root"===e.userRole||"admin"===e.userRole||e.userUid===e.userInfo.uid,type:"checkbox"},domProps:{checked:Array.isArray(i.option.edit)?e._i(i.option.edit,null)>-1:i.option.edit},on:{change:[function(t){var s=i.option.edit,a=t.target,n=!!a.checked;if(Array.isArray(s)){var r=null,l=e._i(s,r);a.checked?l<0&&e.$set(i.option,"edit",s.concat([r])):l>-1&&e.$set(i.option,"edit",s.slice(0,l).concat(s.slice(l+1)))}else e.$set(i.option,"edit",n)},function(t){return t.preventDefault(),e.setEdit(i)}]}}),t("span",{staticClass:"check"}),t("span",{staticClass:"text"},[e._v("Edit")])])])])})),0)])])]):e._e()])},he=[function(){var e=this,t=e._self._c;return t("label",{staticClass:"label-container"},[t("input",{staticClass:"view",attrs:{checked:"",disabled:"",type:"checkbox"}}),t("span",{staticClass:"check"}),t("span",{staticClass:"text"},[e._v("View")])])}],me={name:"Departments",components:{DropdownList:o.Z},data(){return{showRelDeps:!1,showManDeps:!1,showListDeps:"",editRelated:!1,editManaged:!1,relDepValueSearch:"",manDepValueSearch:"",selectedRelDep:"",selectedManDep:"",mainDepartment:{},perPage:9}},computed:{...(0,u.Se)(["getGlobalDepartments","userManageDeps","userInfoVuex","userInfo","userUid","departments","userRole","getPaginatorDepartment"]),viewRelDeps(){let e=JSON.parse(JSON.stringify(this.getGlobalDepartments)),t=JSON.parse(JSON.stringify(this.departments));const s=e.filter((e=>!t.some((t=>e.uid===t.uid))));return s},viewManDeps(){let e=JSON.parse(JSON.stringify(this.getGlobalDepartments)),t=JSON.parse(JSON.stringify(this.userManageDeps));const s=e.filter((e=>!t.some((t=>e.uid===t.uid))));return s}},methods:{searchDepartments(e){clearTimeout(this.timer),this.timer=setTimeout((()=>this.fetch(this[e])),800)},funScroll({target:e}){e.clientHeight+e.scrollTop===e.scrollHeight&&this.getPaginatorDepartment.paginator.count>this.perPage&&(this.perPage+=9,this.fetch())},viewDepartment(e){B.on.viewDepartment(e.uid),localStorage.setItem("depUid",e.uid),this.$router.push(`/config/departments/department-setting/${e.name}`)},fetch(e=""){this.$store.dispatch("setGlobalDepartmentsList",{peerPage:this.perPage,search:e})},showList(e,t){this[e].length>0||this.showListDeps!==t?this.showListDeps=t:this.showListDeps=""},hideListOptions(){(0,z.O)(this,this.indexRef,this.$refs)},hide(){this.showListDeps=""},editMode(e){"related"===e?this.editRelated=!this.editRelated:"owner"!==this.userRole&&"root"!==this.userRole&&"admin"!==this.userRole&&(this.editManaged=!this.editManaged)},addRelDep(){if(this.selectedRelDep){const e=this.departments.filter((e=>e.uid===this.selectedRelDep.uid));if(!e.length){let e=[this.selectedRelDep,...this.departments];e=m().sortBy(e,[function(e){return e.name}]),this.$store.dispatch("changeDeps",e)}}this.relDepValueSearch="",this.selectedRelDep=""},chooseRelDep(e){this.selectedRelDep={name:e.name,uid:e.uid,userCount:e.userCount},this.relDepValueSearch=e.name,this.showListDeps="",this.addRelDep()},deleteRelDep(e){const t=this.departments.filter((t=>t.uid!==e.uid));this.departments.length||t.unshift({name:this.mainDepartment.name,uid:this.mainDepartment.uid,userCount:this.mainDepartment.userCount}),this.$store.dispatch("changeDeps",t)},addManDep(){if(this.selectedManDep){const e=this.userManageDeps.filter((e=>e.uid===this.selectedManDep.uid));if(!e.length){let e=[this.selectedManDep,...this.userManageDeps];e=m().sortBy(e,[function(e){return e.name}]),this.$store.dispatch("setUserDepsManaged",e)}}this.manDepValueSearch="",this.selectedManDep=""},chooseManDep(e){this.selectedManDep={name:e.name,option:{edit:!1},uid:e.uid,userCount:e.userCount},this.manDepValueSearch=e.name,this.showListDeps="",this.showManDeps=!1,this.addManDep()},deleteManDep(e){const t=this.userManageDeps.filter((t=>t.uid!==e.uid));this.$store.dispatch("setUserDepsManaged",t)},setEdit(){this.$store.dispatch("setUserDepsManaged",this.userManageDeps)}},mounted(){this.fetch(),this.popupItem=this.$el},directives:{ClickOutside:k()}},ge=me,fe=(0,b.Z)(ge,pe,he,!1,null,"18c30931",null),ve=fe.exports,we=s(35211),be=s(72053),Ce=s(84673),ye={name:"Accountinfo",components:{ControlPanel:Z.Z,Departments:ve,QSettings:A,PersonalInfo:y,Permission:S,QManaging:ne,AgentRelatedWith:de,OutboundRouting:Y},data(){return{unsubscribe:()=>{},showOptions:"permission",array:["avatar","name","phone","location","position","email","internalNumber"],showApplyBtn:!1,popUp:!1}},watch:{getGlobalQueuesList(){this.$store.dispatch("queuesRelated",JSON.parse(JSON.stringify(this.getGlobalQueuesList)))}},computed:{...(0,u.Se)(["userInfoVuex","userUid","changeFields","getInitialUser","userInfo","roleAgent","getGlobalQueuesList"])},methods:{cancel(){return this.popUp=!1,!1},accept(){const e=JSON.parse(JSON.stringify(this.userInfoVuex)),t=(0,be.FB)(e),s=(0,Ce.Z)(t);J.jI.updateUser(s,this.userUid||sessionStorage.getItem("userUid")).then((()=>this.popUp=!1))},setShowOptions(e){this.showOptions=e,B.ik.viewUser(this.userUid||sessionStorage.getItem("userUid"),this.array)},clearUser(){this.popUp=!1,B.ik.viewUser(this.userUid||sessionStorage.getItem("userUid"))},handlerSubmit(){const e=JSON.parse(JSON.stringify(this.userInfoVuex)),t=(0,be.FB)(e),s=(0,Ce.Z)(t);this.changeFields.includes("setNewRole")?this.popUp=!0:J.jI.updateUser(s,this.userUid||sessionStorage.getItem("userUid"))},switchMode(){const e=window.location.href.split("/").pop();this.$router.push(`/config/users/edit-user/${e}`)}},mounted(){const e=sessionStorage.getItem("userUid");this.userUid||B.ik.viewUser(e),"agent"!==this.roleAgent&&(this.unsubscribe=this.$store.subscribe((e=>{we.Z.user.includes(e.type)?(this.showApplyBtn=(0,be.Xy)(this.getInitialUser,this.userInfoVuex),this.$store.commit("writeChanges",e.type)):"setUserInfo"===e.type&&(this.showApplyBtn=!1,this.$store.commit("resetChanges"))}))),document.addEventListener("keydown",(e=>{"Enter"===e.key&&this.popUp&&this.accept(),"Escape"===e.key&&this.popUp&&this.cancel()}))},beforeDestroy(){this.unsubscribe(),this.$store.dispatch("reset")}},_e=ye,Ne=(0,b.Z)(_e,i,a,!1,null,null,null),xe=Ne.exports},84673:function(e,t,s){s.d(t,{Z:function(){return a}});s(57658);var i=s(96458);function a(e){const t={},s=[];return i.Z.state.userInfo.changedFields.forEach((t=>{"string"===typeof i.Z.state.userInfo.fields[t]?s.push(i.Z.state.userInfo.fields[t]):i.Z.state.userInfo.fields[t].forEach((t=>{i.Z.getters.getInitialUser[t]!==e[t]&&s.push(t)}))})),s.forEach((s=>{null!==e[s]&&(t[s]=e[s])})),t}},92349:function(e,t,s){var i=s(13776),a=s(51579),n=s.n(a),r=s(96458);t["Z"]={search(e,t=""){e.searchValue=t,clearTimeout(e.timer),e.timer=setTimeout((()=>e.fetch(e.activeListData,t)),800)},funScroll(e){e.activeList.clientHeight+e.activeList.scrollTop===e.activeList.scrollHeight&&(e.perPage+=9,e.fetch(e.activeListData,e.activeList.querySelectorAll("input.list-related-input")[0].value))},fetch(e,t,s=""){switch(t){case"direction":i.Z.getDirections(e.perPage,s);break;case"externalNumber":r.Z.dispatch("setGlobalExternalNumbers",{peerPage:e.perPage,number:s});break;case"department":r.Z.dispatch("setGlobalDepartmentsList",{peerPage:e.perPage,search:s});break;case"users":r.Z.dispatch("globalUsersListRequest",{peerPage:e.perPage,sort:"",page:1,search:s});break;default:break}},cancelDelete(e){e.deleteRouteActive={},e.showDeleteComponents=!1},validNewRoute(e,t){return this.externalNumberValue(t)&&t.priority&&t.direction.code&&null!==t.allowed},setParams(e,t,s,i,a){const r="number"===a?+i:i;t=n().set(t,s,r),e.isEqual(),e.showList="",e.isSearch=""},setVNumber(e,t,s,i){t.department=null,t.externalNumber=null,t.preferred=!1,t[s]=i,e.isEqual&&e.isEqual(),e.showList=""},setShowList(e,t,s,i,a){e.perPage=9,e.activeList&&e.deleteScroll(),n().get(e,t)===s?n().set(e,t,""):n().set(e,t,s),e.searchValue="",e.activeListData=i,e.fetch(i),a&&(e.activeList=a,e.onscroll())},externalNumberValue(e){return e.externalNumber?e.externalNumber.number:e.department?e.department.name:e.preferred?"Preferred":""}}},35211:function(e,t){t["Z"]={user:["pushField","addSelectedQueues","setDeps","setNewRole","setVNumber","userDepsManaged","userQueuesManaged","setPermissionCDRMutation","viewBillingReportsMutatution","editQueueMutation"],departments:["pushNameDepartment","pushAgentsDepartment","pushManagersDepartment","pushNumbersDepartment"],queues:["strategyMutation","timeoutMutation","ringinuseMutation","waitMutation","queueNameInfoMutation","strategyInfoMutaion","timeoutInfoMutation","ringInUseInfoMutation","maxWaitInfoMutation","agentsQueueInfoMutation","managersQueueInfoMutation","updateQueuesInListMutation"],numbers:["setNumbers","deleteNumber"],paginator:{CDR:["pageCDRMutation","peerPageCDRMutation"],departments:["setDepPage","setDepPerPage"],users:["setUserPage","setUserPerPage"],queues:["setQueuePage","setQueuePerPage"],numbers:["setNumPage","setNumPerPage"],depForNums:["setDepPage","setDepPerPage"],payments:["setPaymentsPage","setPaymentsPerPage"],charges:["setChargesPage","setChargesPerPage"],leftRoutes:["setLeftRoutesPage","setLeftRoutesPerPage"],rightRoutes:["setRightRoutesPage","setRightRoutesPerPage"]},scenarios:["itemScenariosMutation","deleteItemMutation","changeNameScenarioMutation","newScenarioMutation","isSwappedModeMutation","listScenariosMutationWithObservers","arrayUidsOfDeleteScenariosMutation","listScenariosMutationAfterChangeName","arrayOfScenariosWithChangedNameMutation"]}}}]);