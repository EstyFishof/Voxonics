"use strict";(self["webpackChunkVoxonics"]=self["webpackChunkVoxonics"]||[]).push([[518],{47518:function(t,s,e){e.r(s),e.d(s,{default:function(){return F}});var a=function(){var t=this,s=t._self._c;return s("div",{staticClass:"wrap-main"},[s("div",{staticClass:"wrap-form"},[s("form",{on:{submit:function(s){return s.preventDefault(),t.handlerSubmit.apply(null,arguments)}}},[s("DepartmentInfo",{attrs:{requiredName:t.requiredName}}),s("AddAgent"),s("AddManager"),s("AddVNumbers"),s("div",{staticClass:"btn-container"},[s("button",{staticClass:"btn-submit",on:{click:function(s){return t.checkValid()}}},[t._v("Apply Changes")])])],1)])])},i=[],n=function(){var t=this,s=t._self._c;return s("div",{staticClass:"personal-info-wrap"},[t._m(0),s("div",{staticClass:"wrap-body"},[s("div",{staticClass:"personal-info"},[s("div",{staticClass:"personal-info__first-part"},[s("div",{staticClass:"item-container with-err"},[s("label",[t._v(" Name "),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.name,expression:"name",modifiers:{trim:!0}}],staticClass:"input-field",class:{error:t.requiredName},attrs:{placeholder:"Enter name of Department",maxlength:"12",required:""},domProps:{value:t.name},on:{change:t.setDepartmentName,input:function(s){s.target.composing||(t.name=s.target.value.trim())},blur:function(s){return t.$forceUpdate()}}})])])])])])])},r=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"wrap-head"},[s("h2",[t._v("DEPARTMENT INFO")]),s("span",{staticClass:"hr"})])}],l=e(90408),o={name:"DepartmentInfo",props:["requiredName"],data(){return{name:""}},computed:{...(0,l.Se)(["newDepartmentName"])},methods:{setDepartmentName(){this.$store.dispatch("transferNameDepartment",this.name)}},mounted(){this.newDepartmentName&&(this.name=this.newDepartmentName)}},c=o,m=e(1001),u=(0,m.Z)(c,n,r,!1,null,"b941fa44",null),p=u.exports,d=function(){var t=this,s=t._self._c;return s("div",{staticClass:"personal-info-wrap"},[t._m(0),s("div",{staticClass:"top"},[s("div",{staticClass:"left"},[t._v("Add agent ")]),s("div",{staticClass:"agents users"},[t.newDepartmentAgents.length?s("div",{staticClass:"agent user"},[t._m(1),s("span",{staticClass:"name"},[t._v("Agent Number")]),s("span",{staticClass:"union"})]):t._e(),t.newDepartmentAgents.length>1?s("div",{staticClass:"agent user"},[t._m(2),s("span",{staticClass:"name"},[t._v("Agent Number")]),s("span",{staticClass:"union"})]):t._e(),t.newDepartmentAgents.length>2?s("div",{staticClass:"agent user"},[t._m(3),s("span",{staticClass:"name"},[t._v("Agent Number")]),s("span",{staticClass:"union"})]):t._e(),t.newDepartmentAgents.length>3?s("div",{staticClass:"agent user"},[t._m(4),s("span",{staticClass:"name"},[t._v("Agent Number")]),s("span",{staticClass:"union"})]):t._e()])]),s("div",{staticClass:"wrap-body"},[s("div",{staticClass:"personal-info"},[s("div",{staticClass:"personal-info__first-part"},[s("div",{staticClass:"item-container with-err"},[s("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.hideListUsers,expression:"hideListUsers"}],staticClass:"label"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.name,expression:"name",modifiers:{trim:!0}}],staticClass:"input-field",attrs:{placeholder:"Enter name or Agent Number"},domProps:{value:t.name},on:{click:function(s){return t.showList()},input:[function(s){s.target.composing||(t.name=s.target.value.trim())},function(s){t.showAgents=!0,t.searchDepartments()}],blur:function(s){return t.$forceUpdate()}}}),s("span",{staticClass:"triangle",class:{"rotate-arrow":t.showAgents},on:{click:function(s){return t.showList()}}},[s("img",{attrs:{src:e(97646),alt:"select"}})]),s("DropdownList",{directives:[{name:"show",rawName:"v-show",value:t.showAgents,expression:"showAgents"}],attrs:{classNameList:"list",dataList:t.mainList.getMainList,itemText:t=>`<span>${t.name}</span><span>ID ${t.internalNumber}</span>`,classNameItemComputed:s=>t.newDepartmentAgents.filter((t=>t.uid===s.uid)).length?t.collapse?"selected collapsed row":"selected row":"row",showItem:s=>!t.newDepartmentAgents.filter((t=>t.uid===s.uid)).length||!t.collapse},on:{scrollFunc:s=>t.funScroll(s),clickFunc:s=>t.chooseAgent(s)}},[s("span",{staticClass:"collapse",on:{click:function(s){t.collapse=!t.collapse}}},[s("img",{staticClass:"button",attrs:{src:t.collapse?t.extendImg:t.collapseImg,alt:"collapse"}}),s("span",{staticClass:"text"},[t._v("Selected users available to you:")]),s("span",{staticClass:"amount"},[t._v(t._s(t.mainList.topList.length))])])])],1)])])]),s("div",{staticClass:"agents users"},t._l(t.newDepartmentAgents,(function(a,i){return s("div",{key:i,staticClass:"agent user"},[s("div",{staticClass:"block"},[s("div",{staticClass:"round"},[s("img",{attrs:{src:a.avatar||t.userAva,alt:"avatar"}})]),s("span",{staticClass:"name"},[t._v(t._s(a.name))])]),s("span",{staticClass:"name"},[t._v(t._s(a.internalNumber))]),s("img",{staticClass:"union",attrs:{src:e(93996),width:"19",alt:""},on:{click:function(s){return t.chooseAgent(a)}}})])})),0)])])},h=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"wrap-head"},[s("h2",[t._v("ADD AGENTS")]),s("span",{staticClass:"hr"})])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"block"},[s("div",{staticClass:"round"},[t._v("Name")]),s("span",{staticClass:"name"})])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"block"},[s("div",{staticClass:"round"},[t._v("Name")]),s("span",{staticClass:"name"})])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"block"},[s("div",{staticClass:"round"},[t._v("Name")]),s("span",{staticClass:"name"})])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"block"},[s("div",{staticClass:"round"},[t._v("Name")]),s("span",{staticClass:"name"})])}],g=e(94227),v=e(34675),C=e(76692),f=e(39132),b=e(68956),w=e.n(b),_=e(60949),L=e(51579),N=e.n(L),D={name:"AddAgent",components:{DropdownList:f.Z},data(){return{collapseImg:v,extendImg:C,collapse:!1,name:"",showAgents:!1,userAva:g,perPage:9,mainList:{topList:[],bottomList:[],getMainList:[]}}},watch:{getGlobalUsersList(){(0,_.e)(this,this.getGlobalUsersList,"newDepartmentAgents"),this.mainList.getMainList=N().concat(this.mainList.topList,this.mainList.bottomList)}},computed:{...(0,l.Se)(["newDepartmentAgents","getGlobalUsersList","getPaginatorUsers"])},methods:{searchDepartments(){clearTimeout(this.timer),this.timer=setTimeout((()=>this.fetch()),800)},funScroll({target:t}){t.clientHeight+t.scrollTop===t.scrollHeight&&this.getPaginatorUsers.paginator.count>this.perPage&&(this.perPage+=9,this.fetch())},fetch(){this.$store.dispatch("globalUsersListRequest",{peerPage:this.perPage,sort:"",page:1,search:this.name})},showList(){this.showAgents||this.fetch(),this.showAgents=!this.showAgents},hideListUsers(){this.showAgents=!1},chooseAgent(t){(0,_.Z)(this,t,"newDepartmentAgents","setAgentsDepartment")},setAgentsDepartment(t){this.$store.dispatch("transferAgentsDepartment",t)}},mounted(){this.popupItem=this.$el.children[2].children[0],this.newDepartmentAgents.length&&(this.mainList.topList=this.newDepartmentAgents)},directives:{ClickOutside:w()}},A=D,k=(0,m.Z)(A,d,h,!1,null,"29600a2f",null),M=k.exports,x=function(){var t=this,s=t._self._c;return s("div",{staticClass:"personal-info-wrap"},[t._m(0),s("div",{staticClass:"top"},[s("div",{staticClass:"left"},[t._v("Add manager ")]),s("div",{staticClass:"managers users"},[t.newDepartmentManagers.length?s("div",{staticClass:"manager user"},[t._m(1),s("span",{staticClass:"name"},[t._v("Agent Number")]),s("span",{staticClass:"union"})]):t._e(),t.newDepartmentManagers.length>1?s("div",{staticClass:"manager user"},[t._m(2),s("span",{staticClass:"name"},[t._v("Agent Number")]),s("span",{staticClass:"union"})]):t._e(),t.newDepartmentManagers.length>2?s("div",{staticClass:"manager user"},[t._m(3),s("span",{staticClass:"name"},[t._v("Agent Number")]),s("span",{staticClass:"union"})]):t._e()])]),s("div",{staticClass:"wrap-body"},[s("div",{staticClass:"personal-info"},[s("div",{staticClass:"personal-info__first-part"},[s("div",{staticClass:"item-container with-err"},[s("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.hideListUsers,expression:"hideListUsers"}],staticClass:"label"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.name,expression:"name",modifiers:{trim:!0}}],staticClass:"input-field",attrs:{placeholder:"Enter name or Agent Number"},domProps:{value:t.name},on:{click:function(s){return t.showList()},input:[function(s){s.target.composing||(t.name=s.target.value.trim())},function(s){t.showManagers=!0,t.searchDepartments()}],blur:function(s){return t.$forceUpdate()}}}),s("span",{staticClass:"triangle",class:{"rotate-arrow":t.showManagers},on:{click:function(s){return t.showList()}}},[s("img",{attrs:{src:e(97646),alt:"select"}})]),s("DropdownList",{directives:[{name:"show",rawName:"v-show",value:t.showManagers,expression:"showManagers"}],attrs:{classNameList:"list",dataList:t.mainList.getMainList,itemText:t=>`<span>${t.name}</span><span>ID ${t.internalNumber}</span>`,classNameItemComputed:s=>t.newDepartmentManagers.filter((t=>t.uid===s.uid)).length?t.collapse?"selected collapsed row":"selected row":"row",showItem:s=>!t.newDepartmentManagers.filter((t=>t.uid===s.uid)).length||!t.collapse},on:{scrollFunc:s=>t.funScroll(s),clickFunc:s=>t.chooseAgent(s)}},[s("span",{staticClass:"collapse",on:{click:function(s){t.collapse=!t.collapse}}},[s("img",{staticClass:"button",attrs:{src:t.collapse?t.extendImg:t.collapseImg,alt:"collapse"}}),s("span",{staticClass:"text"},[t._v("Selected users available to you:")]),s("span",{staticClass:"amount"},[t._v(t._s(t.mainList.topList.length))])])])],1)])])]),s("div",{staticClass:"managers users"},t._l(t.newDepartmentManagers,(function(a,i){return s("div",{key:i,staticClass:"manager user"},[s("div",{staticClass:"block"},[s("div",{staticClass:"round"},[s("img",{attrs:{src:a.avatar||t.userAva,alt:"avatar"}})]),s("span",{staticClass:"name"},[t._v(t._s(a.name))])]),s("span",{staticClass:"name"},[t._v(t._s(a.internalNumber))]),s("div",{staticClass:"action"},[t._m(4,!0),s("label",{staticClass:"label-container"},[s("input",{directives:[{name:"model",rawName:"v-model",value:a.option.edit,expression:"manager.option.edit"}],staticClass:"edit",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(a.option.edit)?t._i(a.option.edit,null)>-1:a.option.edit},on:{change:[function(s){var e=a.option.edit,i=s.target,n=!!i.checked;if(Array.isArray(e)){var r=null,l=t._i(e,r);i.checked?l<0&&t.$set(a.option,"edit",e.concat([r])):l>-1&&t.$set(a.option,"edit",e.slice(0,l).concat(e.slice(l+1)))}else t.$set(a.option,"edit",n)},function(s){return t.changeEdit(a)}]}}),s("span",{staticClass:"check"}),s("span",{staticClass:"text"},[t._v("Edit")])])]),s("img",{staticClass:"union",attrs:{src:e(93996),width:"19",alt:""},on:{click:function(s){return t.chooseAgent(a)}}})])})),0)])])},I=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"wrap-head"},[s("h2",[t._v("Managed by")]),s("span",{staticClass:"hr"})])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"block"},[s("div",{staticClass:"round"},[t._v("Name")]),s("span",{staticClass:"name"})])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"block"},[s("div",{staticClass:"round"},[t._v("Name")]),s("span",{staticClass:"name"})])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"block"},[s("div",{staticClass:"round"},[t._v("Name")]),s("span",{staticClass:"name"})])},function(){var t=this,s=t._self._c;return s("label",{staticClass:"label-container"},[s("input",{staticClass:"view",attrs:{checked:"",disabled:"",type:"checkbox"}}),s("span",{staticClass:"check"}),s("span",{staticClass:"text"},[t._v("View")])])}],y=(e(57658),{name:"AddManager",components:{DropdownList:f.Z},data(){return{collapseImg:v,extendImg:C,collapse:!1,name:"",showManagers:!1,userAva:g,perPage:9,mainList:{topList:[],bottomList:[],getMainList:[]}}},watch:{getGlobalUsersList(){(0,_.e)(this,this.getGlobalUsersList,"newDepartmentManagers"),this.mainList.getMainList=N().concat(this.mainList.topList,this.mainList.bottomList)}},computed:{...(0,l.Se)(["newDepartmentManagers","userInfo","getGlobalUsersList","getPaginatorUsers"])},methods:{searchDepartments(){clearTimeout(this.timer),this.timer=setTimeout((()=>this.fetch()),800)},funScroll({target:t}){t.clientHeight+t.scrollTop===t.scrollHeight&&this.getPaginatorUsers.paginator.count>this.perPage&&(this.perPage+=9,this.fetch())},fetch(){this.$store.dispatch("globalUsersListRequest",{peerPage:this.perPage,sort:"",page:1,search:this.name,role:"manager",order:"asc"})},hideListUsers(){this.showManagers=!1},showList(){this.showManagers||this.fetch(),this.showManagers=!this.showManagers},chooseAgent(t){(0,_.Z)(this,JSON.parse(JSON.stringify({...t,option:{edit:!1}})),"newDepartmentManagers","setAgentsDepartment")},changeEdit(){this.setAgentsDepartment()},setAgentsDepartment(t=this.newDepartmentManagers){this.$store.dispatch("transferManagersDepartment",t)}},mounted(){this.popupItem=this.$el.children[2].children[0],this.userInfo.option={edit:!0},this.$store.dispatch("transferManagersDepartment",[]),this.userInfo.internalNumber&&100!==this.userInfo.internalNumber&&0!==this.userInfo.internalNumber&&(this.mainList.topList.push(this.userInfo),this.$store.dispatch("transferManagersDepartment",this.mainList.topList)),this.newDepartmentManagers.length&&(this.mainList.topList=this.newDepartmentManagers)},directives:{ClickOutside:w()}}),P=y,S=(0,m.Z)(P,x,I,!1,null,"3172100a",null),$=S.exports,U=function(){var t=this,s=t._self._c;return s("div",{staticClass:"personal-info-wrap"},[t._m(0),s("div",{staticClass:"top"},[s("div",{staticClass:"left"},[t._v("Assign number ")]),s("div",{staticClass:"numbers"},[t.newDepartmentNumbers.length?s("div",{staticClass:"number"},[t._m(1),s("span",{staticClass:"name"}),s("span",{staticClass:"union"})]):t._e(),t.newDepartmentNumbers.length>1?s("div",{staticClass:"number"},[t._m(2),s("span",{staticClass:"name"}),s("span",{staticClass:"union"})]):t._e(),t.newDepartmentNumbers.length>2?s("div",{staticClass:"number"},[t._m(3),s("span",{staticClass:"name"}),s("span",{staticClass:"union"})]):t._e(),t.newDepartmentNumbers.length>3?s("div",{staticClass:"number"},[t._m(4),s("span",{staticClass:"name"}),s("span",{staticClass:"union"})]):t._e()])]),s("div",{staticClass:"wrap-body"},[s("div",{staticClass:"personal-info"},[s("div",{staticClass:"personal-info__first-part"},[s("div",{staticClass:"item-container with-err"},[s("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.hideListNumbers,expression:"hideListNumbers"}],staticClass:"label"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.name,expression:"name",modifiers:{trim:!0}}],staticClass:"input-field",attrs:{placeholder:"Enter or select number"},domProps:{value:t.name},on:{click:function(s){return t.showList()},input:[function(s){s.target.composing||(t.name=s.target.value.trim())},function(s){t.showNumbers=!0,t.searchNumbers()}],blur:function(s){return t.$forceUpdate()}}}),s("span",{staticClass:"triangle",class:{"rotate-arrow":t.showNumbers},on:{click:function(s){return t.showList()}}},[s("img",{attrs:{src:e(97646),alt:"select"}})]),s("DropdownList",{directives:[{name:"show",rawName:"v-show",value:t.showNumbers,expression:"showNumbers"}],attrs:{classNameList:"list",dataList:t.mainList.getMainList,itemText:t=>`<span>${t.description} ${t.number}</span>`,classNameItemComputed:s=>t.newDepartmentNumbers.filter((t=>t.uid===s.uid)).length?"selected row":"row"},on:{scrollFunc:s=>t.funScroll(s),clickFunc:s=>t.chooseNumber(s)}})],1)])])]),s("div",{staticClass:"numbers"},t._l(t.newDepartmentNumbers,(function(a,i){return s("div",{key:i,staticClass:"number"},[s("div",{staticClass:"block"},[s("div",{staticClass:"round"},[t._v(t._s(i+1)+".")]),s("span",{staticClass:"name"},[t._v(t._s(a.number))]),s("span",{staticClass:"description"},[t._v(t._s(a.description))])]),s("span",{staticClass:"name"},[t._v(t._s(a.internalNumber))]),s("img",{staticClass:"union",attrs:{src:e(93996),width:"19",alt:""},on:{click:function(s){return t.chooseNumber(a)}}})])})),0)])])},E=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"wrap-head"},[s("h2",[t._v("ASSIGN V-NUMBERS")]),s("span",{staticClass:"hr"})])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"block"},[s("div",{staticClass:"round"},[t._v("№ "),s("span",{staticClass:"vnumber"},[t._v("VNumber")])]),s("span",{staticClass:"name"})])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"block"},[s("div",{staticClass:"round"},[t._v("№ "),s("span",{staticClass:"vnumber"},[t._v("VNumber")])]),s("span",{staticClass:"name"})])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"block"},[s("div",{staticClass:"round"},[t._v("№ "),s("span",{staticClass:"vnumber"},[t._v("VNumber")])]),s("span",{staticClass:"name"})])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"block"},[s("div",{staticClass:"round"},[t._v("№ "),s("span",{staticClass:"vnumber"},[t._v("VNumber")])]),s("span",{staticClass:"name"})])}],T={name:"AddVNumbers",components:{DropdownList:f.Z},data(){return{name:"",showNumbers:!1,perPage:12,mainList:{topList:[],bottomList:[],getMainList:[]}}},watch:{getGlobalExternalNumbers(){(0,_.e)(this,this.getGlobalExternalNumbers,"newDepartmentNumbers"),this.mainList.getMainList=N().concat(this.mainList.topList,this.mainList.bottomList)}},computed:{...(0,l.Se)(["newDepartmentNumbers","getGlobalExternalNumbers","getPaginatorNumbers"])},methods:{searchNumbers(){clearTimeout(this.timer),this.timer=setTimeout((()=>this.fetch()),800)},funScroll({target:t}){t.clientHeight+t.scrollTop===t.scrollHeight&&this.getPaginatorNumbers.paginator.count>this.perPage&&(this.perPage+=9,this.fetch())},fetch(){this.$store.dispatch("setGlobalExternalNumbers",{peerPage:this.perPage,number:this.name})},showList(){this.fetch(),this.showNumbers=!this.showNumbers},hideListNumbers(){this.showNumbers=!1},chooseNumber(t){(0,_.Z)(this,t,"newDepartmentNumbers","setNumbersDepartment")},setNumbersDepartment(t){this.$store.dispatch("transferNumberDepartment",t)}},mounted(){this.popupItem=this.$el.children[2].children[0],this.newDepartmentNumbers.length&&(this.mainList.topList=this.newDepartmentNumbers)},directives:{ClickOutside:w()}},Z=T,V=(0,m.Z)(Z,U,E,!1,null,"a89d1eb8",null),G=V.exports,O={name:"CreateDepartment",components:{AddVNumbers:G,AddManager:$,AddAgent:M,DepartmentInfo:p},data(){return{requiredName:!1}},computed:{...(0,l.Se)(["newDepartment"])},methods:{checkValid(){""===this.newDepartment.name&&(this.requiredName=!0)},handlerSubmit(){this.requiredName=!1,this.$store.dispatch("createDepartment",this.newDepartment)}},beforeDestroy(){this.$store.dispatch("resetCreateDep")}},q=O,J=(0,m.Z)(q,a,i,!1,null,null,null),F=J.exports},60949:function(t,s,e){e.d(s,{Z:function(){return l},e:function(){return r}});e(57658);var a=e(51579),i=e.n(a),n=e(83850);function r(t,s,e){t.mainList.getMainList=[],t.mainList.topList=[],t.mainList.bottomList=[],s.forEach((s=>{let a=!1;t[e].forEach((t=>{t.uid===s.uid&&(a=!0)})),a?t.mainList.topList.push(s):t.mainList.bottomList.push(s)})),t.mainList.getMainList=i().concat(t.mainList.topList,t.mainList.bottomList)}function l(t,s,e,a,i){const r=n.Z.changeCountry(s,t.mainList.topList,t.mainList.bottomList,"uid");t.mainList.topList=r.topList,t.mainList.bottomList=r.bottomList,t.mainList.getMainList=r.getCountries;let l=[];t[e].filter((t=>t.uid===s.uid)).length?l=t[e].filter((t=>t.uid!==s.uid)):(l=JSON.parse(JSON.stringify(t[e])),l.push(s)),i&&(t[e]=l),t.name="",t.fetch(),t[a](l)}},83850:function(t,s,e){e(57658);var a=e(51579),i=e.n(a);s["Z"]={changeCountry(t,s,e,a){let n=s,r=e,l=[];if(t){const s=n.filter((s=>s[a]===t[a]));s.length?(n=n.filter((s=>s[a]!==t[a])),r.push(t)):(r=r.filter((s=>s[a]!==t[a])),n.push(t)),n=i().sortBy(n,[a]),r=i().sortBy(r,[a]),l=i().concat(n,r)}else r=l=i().concat(JSON.parse(JSON.stringify(n)),JSON.parse(JSON.stringify(r))),n=[];return{topList:n,bottomList:r,getCountries:l}}}}}]);